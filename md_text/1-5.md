<!-- ch1-5.txt (4ページ、3000～4600字想定) -->
<!-- W3C HTML5の廃止 -->
# HTML5の歩み

HTML4、XHTMLと進化を遂げたHTMLですが、長い停滞を経て、再び大きな変化の時期を迎えます。これがいわゆるHTML5です。HTML5が成立する過程と、現在どのようにHTML仕様が策定されているのかを説明します。

## HTML5勧告までの紆余曲折

HTML4の仕様が勧告されて以降、XHTMLの試みはあったものの、HTMLの仕様内容そのものには大きな動きがなく、停滞が続いているように見えました。HTMLをW3Cで再び開発すべきという提案がブラウザーベンダーからなされるも、W3Cでの投票により却下されました。

このような経緯から、2004年にMozilla、Apple、Operaという3つのブラウザーベンダーが中心となって、WHATWGと呼ばれるコミュニティが同年に発足しました。新たなHTMLはこのコミュニティを中心に策定されていくことになります。

当初、W3CはこのHTMLの策定に興味を示しませんでしたが、2006年にバーナーズ＝リーが自身のブログで、HTMLの策定作業をW3Cで行う意志があることを発表し、翌年にWHATWGと共同でW3CでのHTML5の策定作業が始まりました。

しかし2012年に、仕様の内容を堅牢なものにして勧告を発行したいW3Cと、期限を区切らず仕様の更新をし続けたいWHATWGという両者の仕様の策定方針の違いにより決別し、別々の道を歩むことになります。

W3Cは2014年にHTML 5仕様の勧告を発行し、WHATWGはHTML5をHTML Living Standardと名前を改め、今日も更新が行われています[^1]。

[^1]: https://html.spec.whatwg.org/multipage/

### WHATWGとLiving Standardモデル

WHATWG (Web Hypertext Application Technology Working Group)は、最初はHTMLの仕様を策定することを目的に発足した、ブラウザーベンダー主導の仕様策定コミュニティです。後にDOMやFetch、URLといったHTMLの周辺仕様の策定も手がけるようになりました。

IETFやW3Cと異なり、WHATWGの発行する仕様は、作業草案や勧告などと言ったステータスを持たず、常にLiving Standardと呼ばれるステータスを持ちます。これは、期限を決めて仕様を完成させることなく、仕様を継続的に更新し続けるものです。常に変化し続ける仕様であるため、仕様を引用するなどして参照する部分に予め変更がないかを確認しておく必要があります。

WHATWGが開発しているHTML仕様は、今でこそHTML Standardという名前ですが、当初はWeb Application Language 1.0という名前で発行されていました。名前については、HTML5と名乗っていた時期を含めて、何回かの変更があり、今日に至っています。内容については文書の分割や統合があったものの、理念としては、HTML4、XHTML1、DOM2 HTMLに対する新しい仕様であることを比較的早い段階から謳っていました。

### コラム: 仕様はいつ完成するのか

ウェブの世界において、仕様の策定段階においては、仕様書の変更は頻繁に行われ、ときには変更前と変更後とでまるで別物になると言うことも珍しくありません。

仕様の詳細に関する議論が尽くされ、実装のテストが完了すれば仕様は安定することになりますが、安定すると、今度は安定した仕様に対する拡張が試みられ、追加提案に対する議論が行われていく段階に入ります。もちろん、HTML仕様もその例に漏れず更新され続けています。

仕様が完全に安定して何も更新されないことは珍しく、基本的に更新されるものと考えた方がよいでしょう。最新の仕様を読むことは、最新の技術動向をおさえることに通じているといえます。

## HTML 5.1とHTML 5.2の勧告

W3C HTML5（以下、わかりやすさのためにHTML 5.0と呼びます）が勧告された2年後の2016年11月にHTML 5.1が、2017年12月にHTML 5.2がそれぞれW3C勧告のステータスになりました。

HTML 5.0から2年ものブランクがあった理由は、いくつかの要因が考えられます。その1つの要因としては、CSSのようにモジュール化をし、モジュールごとにHTMLを分割して策定するという提案がされたことが挙げられます。これは結局立ち消えとなりましたが、これと呼応するように、HTML 5.0のエディターの大半がエディターを降板してしまいました。このエディターの降板劇により、仕様の策定が遅れてしまったと言えるでしょう。

またHTML 5.1勧告までの間、Gitのレポジトリーが全部消去され、謝辞のセクションにあったHTML 5.0仕様に貢献した人のリストも削除されてしまうという事件があり、当時のW3C HTMLワーキンググループの不誠実な対応が浮き彫りになりました。WHATWG HTMLエディターの一人であるAnne van Kesterenがブログエントリーで批判を行ったこともありました[^2]。

そのような混乱もありましたが、HTML 5.1の勧告の頃には、W3CのHTML仕様は、おおよそ1年ごとを目処にW3C勧告を発行していくというスケジュールの目標が立てられました。その目標どおり、翌年にはHTML 5.2勧告が発行されました。

[^2]: W3C forks HTML yet again <https://annevankesteren.nl/2016/01/film-at-11>

## HTML 5.0とそれ以前の仕様の廃止

2018年3月、W3Cはこれまでに発行してきた古いHTML仕様に対して、RecommendationからSuperseded Recommendationというステータスに変更を行いました。対象となったHTML仕様は、元々古い仕様と見なされていたHTML 3.2だけでなく、HTML4とその派生であるXHTML 1.0、さらにはすべてのXHTMLファミリー、そしてHTML 5.0をも含むものでした。HTML 5.0に至っては、結果として発行されてから3年半で勧告ではなくなりました。

このステータスは、Supersedeという単語が「（古いものが新しいものに）取って代わる」という意味をもつとおり、後続の新しいHTML仕様を参照するよう促すもので、事実上の廃止を意味します。

こうして、W3Cの発行するHTML仕様は、HTML 5.1とHTML 5.2仕様のみが有効なW3C勧告となりました。

## WHATWGとW3Cの覚書と仕様の一本化

古いHTMLが廃止された一方で、依然として1つのウェブにWHATWGとW3Cの2つの団体によるHTML仕様が併存しており、両者の中身が食い違うことからコミュニティでは一本化が望まれていました。そんな中、W3Cが2018年10月に発行したレポート[^3]の中で、この状態がharmful（有害）であることを公式に言及しました。

そうして2019年5月、“Memorandum of Understanding Between W3C and WHATWG”という覚書がW3CとWHATWGの間に取り交わされ、ここに2012年に分裂してから、再びHTML仕様は一本化される目処が立ちました。この覚書では、HTMLだけでなくDOMについても言及がありますが、もっぱらHTMLについての主要な項目を拾い上げると、

- HTML 5.2の後続として策定作業が行われていたHTML 5.3の作業を中止する
- WHATWG HTMLのReview Draftと呼ばれる文書について、W3Cのステータスを付与する
- Review DraftがW3C勧告のステータスに到達した時、HTML 5.1とHTML 5.2を廃止する
- <https://www.w3.org/TR/html/> をWHATWG HTMLにリダイレクトする

と記載されています。2021年1月に発行されたReview Draft[^4]はW3C Recommendationとして認定され、HTML 5.1とHTML 5.2はHTML 5.0と同様に廃止されました。これにより、W3Cが勧告したすべてのHTMLは廃止され、WHATWG HTMLが名実ともに唯一のHTML仕様となったのです。

[^3]: <https://www.w3.org/2018/10/w3c-highlights/>

[^4]: <https://html.spec.whatwg.org/review-drafts/2020-01/>

![HTMLの系譜](../img/1-5-01.png)

図 1-5-01 主要なHTMLの系譜
