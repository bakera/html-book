# ウェブアクセシビリティの基礎

Chapter1-3ではHTMLの歴史を紹介しました。HTML4の仕様で大きくクローズアップされた概念がアクセシビリティであり、それは現在のHTMLにも受け継がれています。ここでは、ウェブアクセシビリティの基礎について説明します。

## アクセシビリティとは

「アクセシビリティ」(accessibility)は、アクセス可能な度合い、アクセスのしやすさを指す言葉です。より多くの人がアクセスできる状態を「アクセシブル」(accessible)であるといいます。たとえば、「車椅子の利用者にとって、階段はアクセシブルではない」という言い方をします。

ウェブにおいては、利用者の障害の有無などにかかわらず、誰もが利用できることを指します。これはウェブの大きな理念の1つです。2012年のロンドンオリンピックの開会式にはバーナーズ＝リーが登場し、"This is For Everyone"というメッセージを掲げました。またバーナーズ＝リーは、以下のような言葉も述べています。

>The power of the Web is in its universality. Access by everyone regardless of disability is an essential aspect.  
>ウェブの力はその普遍性にあります。障害の有無にかかわらず誰もがアクセスできるというのがウェブの本質的な側面なのです。

これはアクセシビリティの理念そのものであり、ウェブは常にアクセシビリティの理念とともにあるといえます。

## さまざまな支援技術

ウェブがアクセシブルである理由の1つに、ユーザーエージェントの存在があります。ユーザーエージェントの設定を変更することにより、表示される文字の大きさや色合いなどは簡単に変えることができます。障害のあるユーザーでも、自分に合った伝わり方に変えることができるのです。

ユーザーエージェントの設定だけで対応できない場合、支援技術を導入して対応することもできます。支援技術についてはChapter1-2でも簡単に触れましたが、ここでもあらためて紹介します。

なお、ここに挙げるものが支援技術のすべてではありません。支援技術はユーザーの状態に合わせてカスタマイズされることも多く、ときには専用のハードウェアが作られることもあります。カスタマイズされたハードウェアの数だけ支援技術があると考えてよいでしょう。

### 画面拡大ソフト

「画面拡大ソフト」(screen magnifier)は、画面や文字を拡大して表示するソフトウェアで、「拡大ツール」と呼ばれることもあります。主にロービジョン[^1]のユーザーが利用しますが、そうでないユーザーにも利用されます。特に、スマートフォンやタブレットではピンチ操作で簡単に画面を拡大できることが多く、多くのユーザーが日常的に利用しています。

近年では、ほとんどのOSやブラウザーが拡大の機能を持っていますが、ロービジョンのユーザーには拡大率が不足する場合もあります。その場合、さらに拡大するために専用のソフトウェアを導入することがあります。

画面拡大ソフトの多くは、色を変更する機能も備えています。ロービジョンのユーザーには白背景に黒文字の画面が見づらいと感じる人も多く、この機能で画面を白黒反転して利用することがあります。

(図: 拡大しているところ、色反転しているところ)

[^1]: 弱視とも呼ばれ、見えにくさにより、生活に不自由を感じている状態をいいます。WHOでは眼鏡などを用いても視力が0.05以上、0.3未満と定義されます。

### スクリーンリーダー

「スクリーンリーダー」(screen reader)は、画面上のテキストを音声で読み上げるソフトウェアで、主に視覚障害のあるユーザーが利用します。音声の読み上げに加え、点字ディスプレイへの出力ができるものもあります。

PCのソフトウェアとしては、PC-Talker、JAWS、NVDAなどがよく利用されます。また、スマートフォンではiOSのVoiceOver、AndroidのTalkBackが利用できます。[^2]

[^2]: 日本におけるスクリーンリーダーの利用率は、JBICTによる2021年8月の調査が参考になります。 <https://jbict.net/survey/at-survey-01>

スクリーンリーダーはブラウザーに限らず、OSやアプリケーションの画面全般を音声で読み上げます。ウェブを利用する場合は一般的なブラウザーと組み合わせて使用し、ブラウザーが表示したコンテンツを読み上げます。

スクリーンリーダーには、ユーザーの操作を補助する機能もあります。たとえば、見出しやリスト、リンクに飛ぶといったナビゲーション操作が可能です。

### 代替ポインティングデバイス

「代替ポインティングデバイス」(alternative pointing devices)は、マウスポインターの操作を他の操作で代替するもので、代替マウスと呼ぶこともあります。主に肢体不自由のユーザーが利用します。

キーボードを利用してマウスを動かすものは「マウスキー」とも呼ばれます。多くのOSはマウスキーの機能を持ち、キーボードのテンキーや、その他の任意のキーでマウスポインターを操作することができます。

キーボードではなく、スティックや視線入力などの専用ハードウェアを利用することもあります。また、単一のボタンだけを利用して操作する方法もあります。たとえばiOSには「スイッチコントロール」と呼ばれる機能があり、これを利用すると単一ボタンだけですべての操作を行うことができます。

クリックやドラッグといった操作も可能で、ポインターを細かく動かす機能を持つこともあります。ただし、細かい操作には時間がかかる場合があります。

(図: 代替マウスの例)

## アクセシビリティの問題が起きるケース

HTMLは本質的にアクセシブルなものです。それは、ユーザーエージェントがコンテンツを読み取り、個々のユーザーにとって使いやすい形にカスタマイズできるからです。しかし、HTMLの作り方によっては、ユーザーエージェントがコンテンツを適切に処理できず、アクセシビリティの問題が起きることがあります。

### テキスト情報が不足しているケース

スクリーンリーダーで画像を読もうとした場合、画像の内容を音声で読み上げることは困難です。画像認識技術で解析する方法もありますが、現状ではまだ精度が高いとはいえません。つまり、画像はマシンリーダブルではないのです。

そこでHTML仕様では、画像に対して「代替テキスト」(alternative text)と呼ばれるテキスト情報を与える仕組みを用意しています。代替テキストはマシンリーダブルであり、スクリーンリーダーは画像の代わりに代替テキストを読み上げることができます。

逆に、代替テキストが用意されていなければ、スクリーンリーダーは画像の内容を適切に伝えることができなくなってしまいます。

### HTMLの要素を本来と異なる意味で使用するケース

HTMLの要素を本来と異なる意味で用いることも問題を引き起こします。

たとえば、文字を大きくするために見出しの要素を使う、字下げのために引用の要素を使う、レイアウトを調整するために表の要素を使う、といったことが行われると、支援技術はそれぞれを見出し、引用、表として扱ってしまいます。

Chapter1-3で触れたように、以前はHTMLの要素や属性で文書の見た目を整えることがありました。支援技術は、これらがレイアウトのために使われていると判断できず、適切に扱うことができなくなってしまいます。

### 特定の環境で操作が困難になるケース

HTMLのマークアップが適切で、ユーザーエージェントが適切に理解できても、現実的な理由からアクセスが難しくなる場合があります。

たとえば、ウェブコンテンツの本文の前に大量のリンクが配置されている場合、キーボード操作を行う利用者は、<kbd>Tab</kbd>キーを何度も押さなければ本文内のリンクにたどり着けません。同様に、本文の前に大量のテキストがあると、スクリーンリーダーの利用者は本文を読み始めるまで時間がかかることがあります。

別の例としては、画面の激しい点滅があります。人によっては、激しい点滅を見ると気分が悪くなったり、操作を継続できなくなったりすることがあります。このようなケースもアクセシビリティの問題があるといえます。

## アクセシビリティガイドライン

ウェブは本来アクセシブルなものですが、コンテンツの作り方によっては、アクセシブルでなくなってしまうことがあります。

そこで、HTML仕様とは別に、ウェブコンテンツのアクセシビリティを確保するためのガイドラインが求められました。W3Cによりアクセシビリティガイドラインの標準化が行われています。

### WAIについて

W3Cには、ウェブアクセシビリティを推進する組織として「Web Accessibility Initiative」(WAI)[^3],[^4]が存在します。これは1997年に発足したものであり、現在も活動を続けています。

[^3]: <https://www.w3.org/WAI/>

[^4]: WAIは「ワイ」や「ウェイ」などと発音します。英語圏でも発音は一定ではないようです。

### WCAG 1.0

WAIは、ウェブコンテンツで起きるアクセシビリティの問題をまとめ、その問題に対応するためのガイドラインを「Web Content Accessibility Guidelines」(WCAG)[^5]として発行しています。

[^5]: https://www.w3.org/WAI/standards-guidelines/wcag/

歴史的には、WCAG 1.0が1999年にW3C勧告として発行されました。WCAG 1.0は、WCAG 2.0とその後続仕様に取って代わっており、現在では使用されていません。

### WCAG 2.0

2008年に勧告として発行されたWCAG 2.0は、現代のウェブアクセシビリティの基礎として、広く普及しているメジャーバージョンです。

WCAG 2.0は、12のガイドラインと、その大元となる4つの原則があります。

1. 「知覚可能」(Perceivable)
2. 「操作可能」(Operable)
3. 「理解可能」(Understandable)
4. 「堅牢」(robust)

さらに、各ガイドラインの下には、実際に守るべき要件にあたる「達成基準」(success criterion)<!-- 複数形の criteria が使われることが多いがひとまず単数で統一 -->が列挙されています。

WCAG 2.0には3つのレベルが存在します。3つのレベルは、最低限のウェブアクセシビリティを確保するために対応が求められるレベルA、より高度なレベルAA、もっともレベルが高いレベルAAAとなります。達成基準は3つのレベルのいずれかが割り当てられています。

WCAG 2.0は、FlashやPDFなどといったHTML以外の技術にも適用できるように、特定の技術に依存しない、汎用的な記述がされています。その一方で、WCAG 2.0の記述が抽象的になったために、個別の詳しい説明や具体例は別のサポート文書として整備することになりました。それが、Understanding WCAG 2.0[^6]とTechniques for WCAG 2.0[^7]です。

Understanding WCAG 2.0は、達成基準の意図や背景について解説されており、その達成基準はどういったものなのかを知ることができます。また、どのようにすれば達成基準を満たすことができるのかについても説明がなされており、文字どおりWCAG 2.0を理解するための鍵となる文書です。

Techniques for WCAG 2.0は、達成基準を満たすための具体的な例を集めた文書です。たとえば、ある達成基準を満たすために、HTMLをどのように書けばよいのかといった説明がコード例とともに示されています。ただし、Techniques for WCAG 2.0には有用な情報が集められている一方で、HTMLの観点では、HTML Standardと矛盾が生じる、HTML4やXHTML 1.0をもとにしたコード例も2021年時点では見られます。Techniques for WCAG 2.0に記載されているからといって、コード例をすぐに鵜呑みにするのは避けたほうがよいでしょう。

[^6]: https://www.w3.org/TR/UNDERSTANDING-WCAG20/

[^7]: https://www.w3.org/TR/WCAG20-TECHS/

### WCAG 2.0とJIS X 8341-3:2016

日本では、ウェブアクセシビリティの規格としてJIS X 8341-3が存在します。2016年に改定・発行されたJIS X 8341-3:2016は、WCAG 2.0と技術的に同等な内容です。

JIS X 8341-3の普及を目的としている「ウェブアクセシビリティ基盤委員会」(Web Accessibility Infrastructure Committee、WAIC)[^8]は、WCAG 2.0の日本語訳[^9]、Understanding WCAG 2.0の翻訳にあたるWCAG 2.0 解説書[^10]、Techniques for WCAG 2.0の翻訳にあたるWCAG 2.0 達成方法集[^11]をそれぞれ公開しています。

[^8]: <https://waic.jp/>

[^9]: https://waic.jp/docs/WCAG20/Overview.html

[^10]: https://waic.jp/docs/UNDERSTANDING-WCAG20/Overview.html

[^11]: https://waic.jp/docs/WCAG-TECHS/Overview.html

<!--
### コラム：JIS X 8341-3:2016の発行

JIS X 8341-3:2016以前の日本の規格としては、WCAG 1.0を拡張したJIS X 8341-3:2004、WCAG 2.0をもとにしたJIS X 8341-3:2010が存在しました。

しかし、ISO/IEC 40500:2012としてISO/IEC規格が発行されたために、JIS X 8341-3:2010の見直し[^12]が必要となりました。Chapter1-3でも触れたように、対応国際規格が存在する場合は、原則として内容を一致させることが求められるためです。

[^12]: 産業標準化法17条に基づき、原則として5年以内に見直しが行われ、改定が必要かどうかが判断されます。

JIS X 8341-3:2010の達成基準はWCAG 2.0と同一であり、ISOとも一致しているため、この点は大きな問題になりませんでした。しかし、2010年版のJISには、ISOにはない、制作プロセスと試験に関する日本独自の規定が存在しました。

この規定を削除してISOとの一致規格(IDT)にすべるべきという意見の一方で、既に公共サイトの多くがこの独自規定に従って取り組みをしていることもあり、規定を残して修正規格(MOD)にすべきだという意見もありました。

議論の末、日本独自の内容は規定本文からは削除し、代わりに参考情報として盛り込むこととしました。制作プロセスの推奨事項は「附属書 JA(参考)」として、試験方法は「附属書 JB(参考)」として規格票に付属します。これにより、JIS X 8341-3:2016はISO/IEC 40500:2012との一致規格となりました。
-->

### WCAG 2.0の後続仕様

WCAG 2.0は成熟したガイドラインとして広く受け入れられましたが、時間が経つにつれて、問題点も浮き彫りになってきました。問題の1つは、急速に普及したモバイルデバイスとタッチデバイスへの対応が不十分だった点です。また、認知障害や学習障害、ロービジョンのユーザーへの対応が不十分だという声もありました。

そこで、2018年にWCAG 2.0に対して、1つのガイドラインと、17の達成基準を追加したWCAG 2.1[^13]が勧告されました。

[^13]: <https://www.w3.org/TR/WCAG21/>

WCAG 2.1は、WCAG 2.0のマイナーアップデートとなります。WCAG 2.0の達成基準は削除されることなく、すべてそのまま残っています。そのため、WCAG 2.1を満たすようにコンテンツを制作すれば、WCAG 2.0を満たすことができます。

2021年10月現在、WCAG 2.1はISO規格やJIS規格にはなっていませんが、ウェブアクセシビリティ基盤委員会は参考情報としてWCAG 2.1の日本語訳[^14]を公開しています。

[^14]: <https://waic.jp/docs/WCAG21/>

また、2021年10月現在ではWorking Draftのステータスにありますが、次のマイナーアップデートとなるWCAG 2.2[^15]の策定作業が進んでいます。

[^15]: https://www.w3.org/TR/WCAG22/

一方で、メジャーアップデートとして、W3C Accessibility Guidelines (WCAG) 3.0[^16]が並行して策定がされています。2021年現在ではWorking Draftのステータスであり、仕様の策定としては初期段階にあります。WCAG 3.0では、WCAG 2.0に対するさまざまなフィードバックをもとに策定作業が進められています。

そのフィードバックの1つとして、WCAG 2.0は抽象的である以上に、そもそも文章として難解であるというような批判があります。これを受けて、非常に平易な内容で記述されているのがWCAG 3.0の特徴の1つといえます。

WCAG 3.0が勧告となるのは時間がかかると考えられますが、長期的にはWCAG 3.0がWCAG 2.0シリーズに取って代わるのではないかと筆者は予想しています。

[^16]: 略称は同じですが名称が変更されています。 <https://www.w3.org/TR/wcag-3.0/>

#### 本書における達成基準の表記

本書ではWCAGの達成基準について、2021年10月時点での最新の勧告であるWCAG 2.1を参照しています。ただし、わかりやすさのために、達成基準の名称はウェブアクセシビリティ基盤委員会の日本語訳を参照しています。

## WAI-ARIA

WAIが発行している文書は、WCAGだけではありません。もう1つの重要なものとして、WAI-ARIA[^17]が挙げられます。ARIAは、Accessible Rich Internet Applicationsの略称です。

[^17]: <https://www.w3.org/WAI/standards-guidelines/aria/>

Chapter1-3でも触れたように、ウェブアプリケーションが進化し、動的に変化するユーザーインターフェイスを実現するようになったものを「リッチインターネットアプリケーション」(Rich Internet Application)と呼びます。

しかし、リッチインターネットアプリケーションは、しばしばアクセシビリティ上の問題を起こします。独自に作られたインターフェイスが支援技術に十分な情報を提供できなかったり、動的なインタラクションがユーザーに伝わらない場合などがあります。

この問題を解決するために作られた技術仕様が、WAI-ARIAです。WAI-ARIAは単独で使うものではなく、別のマークアップ言語と組み合わせて、それを補助する形で利用します。組み合わせる相手のマークアップ言語のことを「ホスト言語」(host language)と呼びます。HTMLがホスト言語になることがほとんどですが、たとえばSVGがホスト言語になることもあります。

WAI-ARIAを利用すると、HTMLの要素に対して、支援技術に伝える情報を追加することができます。HTMLに`role`属性を追加することで要素の役割の情報を、`aria-`で始まる属性を追加することで要素の状態に関する情報を伝えることができます。

WAI-ARIAも非常に大きな仕様であり、複数の関連文書を伴った構成になっています。WAI-ARIAの詳細はChapter4-2で説明します。
