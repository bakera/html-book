<!-- ch3-6.txt (4ページ、3000～4600字想定) -->
# 編集
この節では、文書への編集を表す`ins`および`del`要素を説明します。

## `ins`および`del`要素
`ins`要素は文書への追加を、`del`要素は文書からの削除をそれぞれ表します。

いずれの要素にも、`cite`属性および`datetime`属性を指定することができます。
`cite`属性は、変更の理由を説明する文書のURLを指定します。
`datetime`属性は、変更した日時を指定します。指定できる値は、日付のみまたは日付を含む時刻です。時刻のみの値は受け付けません。
これらの属性は、レンダリングに影響するものではなく、コンテンツ製作者側が私的に利用することを意図したものとされています。変更の理由や日時をユーザーに伝えたい場合には、属性に指定するのではなく、コンテンツ内に明示する必要があります。

<!-- 内容モデル -->
`ins`要素の内容モデルは"Transparent"で、親要素の内容モデルを引き継ぎます。既存のマークアップに対して、追加/削除したい任意の場所を`ins``del`としてマークアップできるイメージに近いのですが、`ins`要素、`del`要素は"Flow"および"Phrasing"に分類されており、これらの要素が配置できない場所には入れることができません。以下は誤った例です。

<!-- 間違った例 -->
```html
<ul>
<ins>
<li>ひとつめの項目</li>
<li>ふたつめの項目</li>
</ins>
<li>みっつめの項目</li>
</ul>
```

`ul`要素の内容モデルには"Flow"も"Phrasing"も含まれず、直接の子として`ins`要素を持つことができないため、この例は構文上の誤りとなります。`li`要素は内容モデルに"Flow"をもつため、以下のようにすることは可能です。

<!-- 修正例 -->
```html
<ul>
<li><ins>ひとつめの項目</ins></li>
<li><ins>ふたつめの項目</ins></li>
<li>みっつめの項目</li>
</ul>
```

また、`ins`要素や`del`要素が暗黙の段落の境界をまたぐことは避けるべきです。以下は、構文上は許されますが、望ましくない例です。

<!-- 誤りではないが望ましくない例 -->
```html
<section>
<h1>とある文章</h1>
ひとつめの<del>段落
<p>ふたつめの段落</p>
みっつめ</del>の段落
</section>
```

この例では、ひとつめの段落とみっつめの段落は`p`要素としてマークアップされていませんが、暗黙の段落となります。暗黙の段落全てを`p`要素で明示的にマークアップすると、以下のようになります。

<!-- 誤った例 -->
```html
<section>
<h1>とある文章</h1>
<p>ひとつめの<del>段落</p>
<p>ふたつめの段落</p>
<p>みっつめ</del>の段落</p>
</section>
```

これは構文上の誤りとなります。暗黙の段落の場合には構文上の誤りとはなりませんが、望ましくないと言えます。段落をまたがないよう、次のように`del`要素を分割するとよいでしょう。

<!-- 修正例 -->
```html
<section>
ひとつめの<del>段落</del>
<p><del>ふたつめの段落</del></p>
<del>みっつめ</del>の段落
</section>
```
<!--/内容モデル-->

<!-- a11y note -->
`ins`要素、`del`要素にはデフォルトのARIAロールはありませんが、多くのスクリーンリーダーは、`ins`要素、`del`要素をそれぞれ「追加」「削除」のように読み上げます。追加や削除を行ったものに対しては`ins`要素や`del`要素を積極的に使うと良いでしょう。
とはいえ、全ての状況で伝わると言い切れるものでもありません。特に、削除した要素を`del`要素でマークアップした場合、削除されていることがユーザーに伝わらないと、致命的な誤解を招く場合があります。`del`要素であることが伝わらなくても意味が伝わるようにすることが望ましいでしょう。
<!-- /a11y note -->
