# WAI-ARIAの実践と活用
<!-- class="hidden" のかわりに aria-hiden="true" を使ったらどうかという話。4ページも書くことがあるのかは謎。-->

4-2節ではWAI-ARIAと関連仕様についてとりあげました。この節では、WAI-ARIAを利用してアクセシビリティを向上する具体的な実践例について、WAI-ARIA Authoring Practices[^1]で紹介されている例をいくつか引きながら、実践で利用できるマークアップ例や、その注意点について説明します。

[^1]: <https://www.w3.org/TR/wai-aria-practices/>

## メニューボタン (ハンバーガーメニュー)

ボタンを押すとメニューが開く、というのはよくあるウィジェットです。特にモバイル用のページでは、メニューボタンに三本の横棒のアイコンがよく利用され、その形状から「ハンバーガーメニュー」と呼ばれます。一般的なハンバーガーメニューは、以下のような機能を持ちます。

- ユーザーがボタンを押すと、メニューが出現する
- メニューにはサイト内の主要なコンテンツへのリンクが含まれる
- メニューはコンテンツに覆いかぶさるような形で現れ、メニューが開いている間はメニューの外のコンテンツは利用できない
- メニューが出現した際、ハンバーガーボタン自体はメニューを閉じるボタンに変化する
- 閉じるボタンを押すとメニューは消え、元の状態に戻る

<!-- サイトから借りてきたが、実際にはポンチ絵の想定 -->
![ハンバーガーメニューの例。左側は初期状態、右側はボタンを押してメニューが開いている状態。](../img/4-4-01.png)

ウェブ制作者にとってはおなじみのパーツですが、アクセシビリティ上の留意点がいくつかあります。深く考えずに作られたハンバーガーメニューは、たとえば以下のようなマークアップになっていることがあります。

```html
<div class="hamburgerMenu">
  <div class="button">
    <span class="menu-icon"></span>
    <span class="close-icon"></span>
  </div>
  <ul>
      <li><a href="/">ホーム</a></li>
      <!-- メニュー -->
  </ul>
</div>
```

`<div class="button">`がボタンに相当します。中に入っている2つの`span`要素は、それぞれハンバーガーアイコンと閉じるアイコンに相当し、CSSの`background-image`を使ってアイコン画像を表示します。そして、`div`に`click`イベントをつけて動くようにします。

```JavaScript
const hamburgerMenu = document.querySelector('.hamburgerMenu');
const hamburgerMenuButton = hamburgerMenu.querySelector('.button');
hamburgerMenuButton.addEventListener('click', event => {
    hamburgerMenu.classList.toggle('js-opened');
});
```

JavaScriptの実装方法はいろいろ考えられますが、ここでは単純に、外側の`div`要素に`js-opend`クラスをつけたり外したりするようにしました。あとは、CSSで`ul`を非表示にし、`js-opened`クラスがついたときだけ`ul`が表示されるようにすれば、ひとまずは完成です。

これでメニューボタンはいちおう動作しますが、このメニューには致命的な問題点があります。

### キーボード操作を可能にする

このメニューの最大の問題は、キーボード操作ができないということです。メニューボタンは`div`要素で実装されています。`click`イベントをつけたのでマウスクリックには反応しますが、キーボードではそもそもフォーカスを当てることができず、このボタンを押すことができないのです。

キーボード操作は、WCAG 2.1の達成基準2.1.1 Keyboard [^2] でも要求されている重要事項です。まずはこれを行えるようにする必要があります。

[^2]: <https://www.w3.org/TR/WCAG21/#keyboard>

#### `div`をキーボード操作できるように……

この`div`にフォーカスが当たるようにするために、`tabindex=0`を指定します。そして`role=button`を指定すると、スクリーンリーダーでも「ボタン」と読まれるようになります。

<!-- 望ましくない例 -->
```html
<div class="button" role="button" tabindex="0">
  <span class="menu-icon"></span>
  <span class="close-icon"></span>
</div>
```

さらに、キーボード操作に対応するためには`keypress`イベントをつける必要もあります。

<!-- 望ましくない例 -->
```JavaScript
hamburgerMenuButton.addEventListener('keypress', event => {
  // Enterキーやスペースキーでボタンが押せ、かつTabキーではボタンが押されないような実装...
});
```

このイベント内では、押されたキーを判定して、Enterキーやスペースキーならばボタンが押されるように、かつTabキーなどの操作を横取りしないように実装します。

この方法は全くお勧めできません。複雑で労力がかかる上、考慮すべきことも多数あります。他の方法を考えるべきです。

#### `button`要素を使用する

WAI-ARIAを使う上で最も重要なことは、WAI-ARIAを使わないことです。HTMLにはボタンの機能を提供する`button`要素があるのですから、ここでは`button`要素を使うべきです。

```html
<button>
  <span class="menu-icon"></span>
  <span class="close-icon"></span>
</button>
```

これだけでキーボード操作が可能になります。`role`属性も`tabindek`属性も`keypress`イベントも必要ありません。`button`要素はそれらの機能を既に備えているからです。

これでキーボード操作はできるようになりましたが、まだ問題は残っています。

### ボタンにラベルを追加する

ボタンを`button`要素にしたことで、ボタンにフォーカスが当たるようになりました。スクリーンリーダーを使ってボタンにフォーカスを当てると「ボタン」と読まれますが、いったい何のボタンなのかは分かりません。視覚環境ではボタンにハンバーガーのアイコンが付けられていることがわかりますが、スクリーンリーダーでは何のボタンなのかわからないのです。これは、ボタンにラベルとなるテキストが含まれていないことが原因です。

これを「メニュー ボタン」と読まれるようにしてみましょう。ボタンにラベルを与える方法はいくつかあります。

#### 画像を`img`要素にして`alt`でテキストを指定する

ひとつは、`button`要素の中にラベルとなるテキストを追加する方法です。最もシンプルな方法は、CSSの背景画像を使うのをやめてしまい、`img`要素で画像を指定して`alt`属性にテキストを入れる方法です。

```html
<button>
  <span class="menu-icon"><img src="menu.png" alt="メニュー"></span>
  <span class="close-icon"></span>
</button>
```

この方法は「CSSスプライト」と呼ばれる技法と相性が悪いという問題はあります。最近はCSSスプライトが使われることも少なくなってきましたが、とはいえCSSの背景画像を使うという実装を避けられないということもあるでしょう。その場合には他の方法を考えることもできます。

#### スクリーンリーダー用テキストを入れる

スクリーンリーダーで読ませる専用のテキストを入れる方法もあります。

```html
<button>
  <span class="sr-only">メニュー</span>
  <span class="menu-icon"></span>
  <span class="close-icon"></span>
</button>
```

`class="sr-only"`には、視覚環境で表示されず、かつスクリーンリーダーでは読まれるようなスタイルを指定しておきます。こうしておくと、テキストはスクリーンリーダーで読まれ、かつ視覚環境には影響を与えません。

#### `aria-label`を利用する

別の選択肢として、我らが`aria-label`属性も利用できます。

```html
<button aria-label="メニュー">
  <span class="menu-icon"></span>
  <span class="close-icon"></span>
</button>
```

このようにすると、`aria-label`に対応しているスクリーンのリーダーでは「メニュー ボタン」と読まれることが期待できます。

他にも、`aria-labelledby`属性や`label`要素を利用する方法も考えられますが、これらは不可視のラベルを与えるのには向きません。どこかに見えているラベルがある場合は、これらの方法を検討すると良いでしょう。なお、ボタンの外にあるテキストを`label`要素として結び付けた場合、ラベルテキストをクリックしてもボタンが反応するようになるので注意してください。

### メニューの開閉状態が分かるようにする

ここまでで、キーボード操作ができ、ボタンも「メニュー ボタン」と読まれるようになったので、メニューボタンを利用できる最低限の条件は満たすことができました。ただし、まだ軽微な問題は残っています。

ひとつは、メニューが開いたことが分からない点です。「メニュー ボタン」と読まれるボタンを押したとき、視覚環境ではメニューが開いたことが分かりますが、スクリーンリーダーではそのことが伝わりません。

今回の例では、ボタンに「メニュー」というラベルをつけましたから、おそらくメニューが開くだろうと想像することはできるかもしれません。しかし、実際にどういう変化が起きたかはわからないのです。ボタンをもう一度読ませても「メニュー ボタン」と読まれるだけですし、何度押しても状況は変わりません。

ここには問題が2つあります。

- どこが変化したかわからない (どこにメニューが開いたのか、どうやってそこにたどり着けるのかがわからない)
- 現在の状態がわからない (今メニューが開いているのか、閉じているのかがわからない)

これを改善する方法を考えていきましょう。

#### 開いたメニューにフォーカスを移す

メニューを開いたことが最大限にダイレクトに伝わる方法は、開いたメニューにフォーカスを移してしまうことです。こうすると、ボタンを押した直後にメニューのリンクの内容を読み始めますから、メニューが開いたことは間違いなく伝わるでしょう。

メニューにはフォーカスを受け取ることのできる`a`要素が含まれていますから、先頭の`a`要素にフォーカスを移動します。先のスクリプトにあったボタンクリック時のイベントに、フォーカス移動の処理を追加します。

```JavaScript
hamburgerMenuButton.addEventListener('click', event => {
    hamburgerMenu.classList.toggle('js-opened');
    hamburgerMenu.querySelector('ul a').focus(); // ← これを追加 
});
```

この方法はわかりやすい反面、フォーカスを強制的に移動させてしまう点には注意が必要です。フォーカス移動が予測できなかったり、移動元と移動先が離れていて戻り方がわかりにくいような場合、ユーザーを混乱させることがあります。この例では、「メニュー」というボタンを押すと直後のメニューに移動するという挙動ですから、大きな問題はないでしょう。

#### ボタンのラベルで状態を伝える

ボタンのラベルを変更することで現在の状態を伝えるという方法もあります。たとえば、メニューを開いた際にボタンのラベルも「メニューを閉じる」に変更すれば、現在メニューが開いていること (そして、このボタンを押すとメニューが閉じるということ) が伝わるようになるでしょう。

```html
<button>
  <span class="menu-icon"><img src="menu.png" alt="メニュー"></span>
  <span class="close-icon"><img src="close.png" alt="メニューを閉じる"></span>
</button>
```

ただし、これだけではどこでメニューが開いているのかはわかりません。直後にメニューがある場合は大きな問題はありませんが、メニューと離れている場合には、メニューまで移動する方法も考える必要があるでしょう。

#### `aria-expanded`を利用する

WAI-ARIAには開閉状態を通知するための属性があります。`button`要素に`aria-expanded`属性を指定することで、現在の状態を通知することができます。メニューが開いた状態になったときに`aria-expanded=true`を追加するようにします。

```html
<button aria-expanded="true">
```

こうすると「メニュー ボタン 開いています」などと読まれます (スクリーンリーダーによって読まれ方は異なります。「拡大」などと読むものもあります)。

同様に、`aria-expanded=false`を指定すると「メニュー ボタン 閉じています」などと読まれます (「隠されました」などと読むものもあります)。ただし、この例の場合には、「メニュー ボタン」と読まれるだけで、これからメニューが開くであろうことは十分に予想できかもしれません。

ボタンのラベルだけで挙動が十分に伝わる場合は、あえて`aria-expanded`を指定しない方が簡潔になる場合もあります。たとえば、メニューが開いた時にボタンのラベル自体を変更して「メニューを閉じる」としている場合、「メニューを閉じる ボタン 開いています」と読まれなくても、「メニューを閉じる ボタン」だけで伝わるでしょう。

初期状態では何もつけず、開いた時だけ`aria-expanded=true`をつけるという方法もあります。たとえば、ボタンのラベルが「メニュー」のとき、閉じている時は「メニュー ボタン」と読まれ、開いている時は「メニュー ボタン 開いています」と読まれれば、それでも伝わるでしょう。

ボタンのラベルや他のARIA属性も合わせた状態で実際に読んでみて、ボタンの挙動が伝わるかどうかを考えて用いるとよいでしょう。

#### `aria-controls`を利用する

WAI-ARIAには、制御対象の要素を伝え、そこに移動する手段を提供するための属性があります。`button`要素に`aria-controls`属性を指定し、制御対象となるメニューのIDを指定します。

```html
<div class="hamburgerMenu">
  <button aria-controls="menu01">
    <span class="menu-icon"><img src="menu.png" alt="メニュー"></span>
  </button>
  <ul id="menu01">
      <li><a href="/">ホーム</a></li>
      <!-- メニュー -->
  </ul>
</div>
```

`aria-controls`に対応しているスクリーンリーダーは、制御対象に移動できる機能を提供することがあります。たとえばJAWSの場合、このボタンを「メニュー ボタン」と読んだ後、“use JAWS key+ALT+M to move to controlled element”と読みます。<!--編集注: これは数年前の状況。当時は対応しているのがJAWSのみで、中根さんに当時のJAWS日本語版での読み上げ内容を確認してもらったところ、このように英語で読むということだった。最新版の挙動や他の支援技術の挙動を要確認-->指示に従ってキー操作すると、メニューの`ul`要素に移動し、メニュー内のリンクを読んでいくことができます。ただし、移動した後に元のボタンに戻ってくる方法はありません。

`aria-controls`属性を指定するのは悪いことではありませんが、全てのスクリーンリーダーが問題なく対応できていると考えるべきではありません。開いたメニューに移動する手段と、このボタンに戻ってくる手段について、別途考えておくほうが良いでしょう。対象の要素をこのボタンと隣接させることが最善の対応策ですが、それができない場合、先に紹介したように、ボタンを押した際に対象にフォーカスを移動してしまうというのも一つの方法です。

### メニューの裏側にフォーカスが当たらないようにする

メニューを開いた際、視覚環境ではメニューがコンテンツに覆いかぶさり、コンテンツ側の操作ができなくなるケースが多いでしょう。

しかしキーボード操作の場合、メニューが開いた状態でも背後のコンテンツにフォーカスを移せてしまう場合があります。メニューの裏側の要素にフォーカスが移ると、視覚環境のキーボードユーザーはフォーカスを見失い、混乱することがあります (なお、スクリーンリーダーのユーザーの場合、メニューが開きっぱなしであることに気づかず、普通に利用できてしまうことが多いでしょう)。

これを避ける方法はいくつかあります。

#### メニューの外の要素を全てフォーカス不可能にする

メニューが開いた際、メニューの外の要素を全てフォーカス不可能にするという方法です。実装方法はまたいくつかに別れます。

- メニューの外側のフォーカス可能な要素全てに`tabindex=-1`を指定する
- メニューの外側の要素全てを`display: none;`や`visibility: hidden`などで削除する
- メニューを`dialog`要素として実装し、`showModal()`メソッドで呼び出す

詳細な実装方法はここでは説明しません。`dialog`要素については`dialog`要素の項を参照してください。

なお、`aria-hidden`は利用できないことに注意してください。`aria-hidden`を指定してもフォーカス移動には影響しません。スクリーンリーダーのユーザーは読まれない要素にフォーカスを奪われて混乱することになります。

#### メニューの最後の要素からフォーカス移動するとき、メニューの先頭に戻す

メニューからフォーカスが外に出るのは、メニューの最後の要素からさらにフォーカス移動しようとした時です。そのタイミングで`Tab`キーの挙動をフックして、メニューの先頭に戻してしまえば、フォーカスはメニューの外に出られなくなます。メニューの最後の要素に`keypress`イベントをつけて、`Tab`キーが押された時にメニューの先頭の要素にフォーカスが戻るようにします。

フォーカスが永遠に脱出不能にならないように気をつけてください。メニューを閉じるボタンが押せなくなると詰んでしまいます。また、ユーザーはブラウザのアドレスバーにフォーカスしたい場合に`Shift`+`Tab`を連打して戻ろうとすることもあります。先頭の要素から前に戻ろうとすることは許容する方が良いでしょう。

また、スクリーンリーダーのユーザーは外に出られる場合があることに注意してください。スクリーンリーダーではフォーカスを移動せずに後ろの要素を読むことができますし、`Tab`キーを使用しないフォーカス移動方法もあるため、外に出られてしまいます。もっとも、スクリーンリーダーのユーザーは視覚的にフォーカスを見失っても困ることはないので、特に気にしないという考え方もあります。

#### メニュー末尾からフォーカス移動しようとした場合、メニューを自動的に閉じる

上記と似ていますが、フォーカスをメニューの先頭に戻すのではなく、メニューを閉じることで解決します。メニューの最後の要素に`keypress`イベントをつけ、`Tab`キーが押された時にメニューを閉じるようにします。

メニューを閉じた際のフォーカスの行き先には気をつけてください。メニューを開くボタンにフォーカスを戻すのが良いでしょう。メニューが意図せず閉じた場合でも、開くボタンにフォーカスがあればまたすぐに開くことができます。


<!-- 以下調整中 -->



#### アクセシビリティ上の留意点 <!-- 後ろでまとめるべきか -->

ハンバーガーメニューに限らず、独自UIすべてに言えることですが、マウスだけでなくキーボードでも操作できるようにする必要があります。これはウェブアクセシビリティ上の要請[^2]であり、ウェブサイトが最低限備える必要のある機能です。

また、<kbd>Tab</kbd>キーを用いてキーボード操作をするとありがちですが、展開したメニューの背後に隠れていて見えない状態にある、本文のリンク等にキーボードフォーカスが当たってしまうという実装がよく見られます。ウェブアクセシビリティの観点からは、フォーカスの順序[^3]の問題になります。展開したメニューの中でキーボードフォーカスをループさせたり、メニュー末尾からフォーカスを移動するときにメニューを自動的に閉じるなどして、キーボードユーザーが使えるページにする必要があります。


[^3]: WCAG 2.1 Success Criterion 2.4.3 Focus Order <https://www.w3.org/TR/WCAG21/#focus-order>


### カルーセル

「カルーセル」（Carousel）は、メリーゴーランドのように、画像やテキストのスライドを循環させるスライドショーのコンポーネントです。

カルーセルにはさまざまなパターンが見られますが、多くの場合、WAI-ARIAが必要になることはありません。しかし、図4-4-02のように、スライドが見切れているものがある場合、その見切れたスライドは装飾的なパーツと考えることができます。

```
--+ +---+ +--
1 | | 2 | | 3
--+ +---+ +--

```

図4-4-02 左右のスライドが見切れているカルーセルの例

そのため、1と3のスライドを支援技術から隠す必要があります。そのような場合には、`aria-hidden`属性を見切れているスライドに適用して、支援技術に無視されるようにします。


#### 失敗例：ライブリージョンを誤って指定している

カルーセルは多くの場合WAI-ARIAの設定が不要と延べましたが、1つの誤った使用例として、自動再生されるカルーセルにライブリージョンを設定した例を取り上げてみます。

ライブリージョンは、支援技術に対して更新内容を伝えることのできるものです。

このライブリージョンをカルーセルに対して設定することで、スライドが切り替わるたびに更新内容が支援技術に通知されることになります。

そのため、音声読み上げではスライドが切り替わるたびに更新内容が読まれてしまいます。スライドの切り替わりが一定以上の間隔であれば、常にカルーセルの更新内容が読まれ続けることになり、カルーセルの更新通知以外のページの内容を理解することが困難になります。

`aria-live`属性や`alert`などのライブリージョンロールが本当に必要となる状況はあまり多くありません。ライブリージョンを設定した方がよいか、慎重に検討するのがよいでしょう。


#### アクセシビリティ上の注意点

WAI-ARIAからは離れますが、多くのカルーセルは自動でスライドが切り替わり続けます。その一方で、スライドを「停止」するボタンが提供されないことがあります。

WCAG 2.1の達成基準2.2.2 Pause, Stop, Hide[^4]では、動き続けるコンテンツが停止できることを求めています。スライドショーにかかわらず、自動的に動き続けるコンテンツは、停止できる機能を提供するようにしましょう。

[^4]: <https://www.w3.org/TR/WCAG21/#pause-stop-hide>

### タブパネル

タブメニューとも呼ばれる、サイトのトップページなどで見かけることのある、タブ切り替え機能です。典型的には、タブの一覧になっているタブリストがパーツ一式の上側にあり、下側にタブに関連付けられたタブパネルがあります。

<!-- 

イメージはここから適当に持ってくればよいか

デザインの参考に！おしゃれなタブメニューを導入しているサイトまとめ
https://www.hiroseyonaka.com/entry/2017/04/06/120610 

素材は https://www.takushoku-u.ac.jp/ よりお借り。ポンチ絵想定 -->


![](../img/4-4-03.png)

図4-4-03 タブパネルのイメージ例


```html
<div class="tabs">
  <div role="tablist">
    <button role="tab" aria-selected="true" aria-controls="topics-tab" id="topics">
      トピック
    </button>
    <button role="tab" aria-selected="false" aria-controls="release-tab" id="release" tabindex="-1">
      プレスリリース
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="topics-tab" aria-labelledby="topics">
    <ul>
      <li>広報紙最新号を発行しました。</li>
    </ul>
  </div>
  <div tabindex="0" role="tabpanel" id="release-tab" aria-labelledby="release" hidden>
    <ul>
        <li>○○報告会を開催します。</li>
    </ul>
  </div>
</div>
```

タブに`tab`ロールを付与し、複数のタブを`tablist`ロールを持つ要素でグループ化します。選択しているアクティブなタブは`aria-selected="true"`とし、選択していないタブについては属性値`false`を与えます。

アクティブでないタブに`tabindex="-1"`を与え、各タブパネルに`tabindex="0"`を与えることで、<kbd>Tab</kbd>キーでの移動はアクティブなタブから関連付けられたタブパネル間となります。これにより、タブ間の移動は左右の矢印キーを用いることになります。

タブとタブパネルの関連付けは`aria-controls`属性と`id`属性を用いています。また、`aria-labelledby`でタブパネルに対する名前を提供します。アクティブでないタブパネルについては`hidden`属性で非表示にしています。


### モーダルダイアログ

モーダルダイアログは、メインコンテンツの上に重ねられて表示されるダイアログです。ダイアログが表示されている間、言い換えるとダイアログを閉じるまで、メインコンテンツは無効になります。

<!--
https://www.w3.org/TR/wai-aria-practices/#dialog_modal
https://www.w3.org/TR/wai-aria-practices/examples/dialog-modal/dialog.html
https://qiita.com/ishimasar/items/47f29b958946a2c53e93

http://www.tohoho-web.com/bootstrap/modal.html
-->

![](../img/4-4-04.png)

図4-4-04 モーダルダイアログのイメージ図


```html
<div role="dialog" aria-labelledby="modal-label" aria-modal="true">
  <div class="modal-header">
    <h5 id="modal-label">Modal title</h5>
    <button type="button" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body">
    Modal body
  </div>
  <div class="modal-footer">
    <button type="button">Close</button>
    <button type="button">OK</button>
  </div>
</div>
```

`dialog`ロールは、ダイアログコンテナ要素に対して付与し、ダイアログであることを表します。`aria-modal="true"`により、モーダルであることを表します。

このモーダルの名前は、`aria-labelledby`属性により、見出しで提供されます。

モーダルダイアログの右上にある「Close」ボタンは、テキストの「×」として提供されています。そのため、「×」自身は`aria-hidden`属性で無視させ、`aria-label`属性でボタンのラベルを提供しています。


### 画像をインラインSVGで表す

HTMLに直接インラインでSVGを記述したい、という場面も珍しくないでしょう。その場合、WAI-ARIAを付与する必要が出てきます。

`svg`要素はSVG 2仕様によれば`graphics-document`というロール[^5]を持っていることになります。これは端的に言えば、文書である`document`ロールの性質も持っているという位置付けになります。そのため、通常の画像として扱いたい場合は`img`ロールを付与します。

[^5]: <https://www.w3.org/TR/SVG2/struct.html#implicit-aria-semantics>

意味のある画像については、代替テキストを（SVGの）`title`要素で与えます。

```html
<svg role="img">
  <title>代替テキスト</title>
  ...
</svg>
```

`aria-describedby`で明示的に`svg`要素と`title`要素を結びつける方法がありますが、仕様上[^6]はそのようにする必要はありません。

[^6] <https://www.w3.org/TR/svg-aam-1.0/#mapping_additional>

```html
<!-- 冗長な例 -->
<svg role="img" aria-describedby="svgdesc">
  <title id="svgdesc">代替テキスト</title>
  ...
</svg>
```

画像が意味を持たない純粋に装飾的な画像である場合は、支援技術に無視させればよく、`aria-hidden`属性を用います。この場合、支援技術に何も伝えないため、`role`属性を指定する必要はありません。

```html
<svg aria-hidden="true">
  <!-- 純粋に装飾的な画像 -->
  ...
</svg>
```

#### 画像にありがちなアクセシビリティの問題

画像を`img`要素で表す場合は、代替テキストについては単に`alt`を考えるだけでよいのですが、前述のインラインSVGのように`img`要素でない方法で画像を表す場合、代替テキストを用意することを考える必要があります。

`alt`による代替テキストは、何らかの原因で画像が読み込めなかったときに、ブラウザー上で画像の代わりに表示されるという特性があります。代替テキストを提供する場合は、この特性と同等の挙動を実現する必要があります。

<!-- 4-3に移動すべきか？ -->

例えば、font awesomeのようなフォントアイコンで、`aria-label`属性で代替テキストの代わりにする実装を見かけることがありますが、`aria-label`はラベルであって代替テキストではありません。画面上に見えないラベルであるため、`alt`と同じ挙動にはなりません。

```html
<!-- 好ましくない実装例 -->
<i class="..." aria-label="開く"></i>
```

このような手法は既存サイトの緊急避難的な改修の場合に留め、新規にサイトを構築する際は避けることが望ましいです。