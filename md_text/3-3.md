<!-- ch3-3.txt (4ページ、3000～4600字想定) -->
<!--    4.4.7 The menu elementを除く -->
# グルーピングコンテンツ

このChapterでは、テキストのかたまりをグループ化するのに関係する、グルーピングコンテンツについて説明します。

## `p`要素

`p`要素は「段落」(paragraph) を表します。段落は、いくつかの文で構成される、文のかたまりです。

詳しくは後述しますが、ここでいう段落は「構造的」(structural)なまとまりであり、必ずしも「論理的」(logical)なまとまりであるとは限りません。<!--国語の授業で意味段落、形式段落という言葉を習ったかもしれませんが、形式段落に近いと考えて良いでしょう。-->

基本的に、特別な役割を持たない文のかたまりは`p`要素でマークアップすると考えて差し支えないでしょう。

文のかたまりが特別な役割を持ち、それを表現するための専用の要素があるならば、専用の要素を使う方が望ましいでしょう。以下の例では、セクションの末尾にある作成日と作者の連絡先を`p`要素でマークアップしています。

```html
<section>
  <!-- セクションの本文 (省略) -->
  <p>作成日: 2012-03-21</p>
  <p>作者: info@example.com</p>
</section>
```

これは文法的には問題ありませんが、以下のように専用の`footer`要素や`address`要素を使用するほうがより適切かもしれません。

```html
<section>
  <!-- セクションの本文 (省略) -->
  <footer>作成日: 2012-03-21</footer>
  <address>作者: info@example.com</address>
</section>
```

`p`要素は`footer`要素の中に入れることもできるので、以下のようなマークアップも考えられます。

```html
<section>
  <!-- セクションの本文 (省略) -->
  <footer>
    <p>Last modified: 2001-04-23</p>
    <address>Author: fred@example.com</address>
  </footer>
</section>
```

<!-- 互換性メモ -->
### 廃止された属性: `align`属性

かつてのHTMLでは、`p`要素に`align`属性が定義されていました。要素の内容の配置を指定するもので、主にテキストの左寄せ、右寄せ、センタリングを指定するために用いられてきました。現在ではCSSの`text-align`で代用可能です。文字寄せの指定はCSSで行います。
<!-- /互換性メモ -->

### 内容モデル
`p`要素の内容モデルは"Phrasing"です。つまり、`p`要素の中には`h1`要素などの見出しや`div`要素は入れられません。また、別の`p`要素を入れることもできないので、`p`を入れ子にすることもできません。

`ul`要素や`ol`要素などのリストも同様に入れることができない点に注意してください。文中で箇条書きを使いたくなることはありますが、以下のようなマークアップは正しくありません。

<!-- 誤った例 -->
```html
<p>ウェブページは、
<ul>
  <li>HTML</li>
  <li>CSS</li>
  <li>JavaScript</li>
</ul>
の3つの技術から構成されます。</p>
```

実際にこのように記述すると、エラー処理によって以下のように解釈されます。

```html
<p>ウェブページは、</p>
<ul>
  <li>HTML</li>
  <li>CSS</li>
  <li>JavaScript</li>
</ul>
の3つの技術から構成されます。<p></p>
```

このようなケースの対応方法のひとつとして、リストの前後をそれぞれ`p`要素としてマークアップする方法があります。

```html
<p>ウェブページは、</p>
<ul>
  <li>HTML</li>
  <li>CSS</li>
  <li>JavaScript</li>
</ul>
<p>の3つの技術から構成されます。</p>
```

それぞれの段落の中の文は中途半端な場所で途切れてしまっていますが、文法上は問題ありません。このように、`p`要素は単に構造上のまとまりにすぎないことがあり、論理的な意味でのまとまりと同じになるとは限りません。

文が途中で切れるのを嫌う場合や、見た目をひとかたまりにする必要がある場合は、`div`でマークアップする方法もあります。

```html
<div>ウェブページは、
<ul>
  <li>HTML
  <li>CSS
  <li>JavaScript
</ul>
の3つの技術から構成されます。</div>
```
<!-- /内容モデル -->

### アクセシビリティ上の注意点
ARIA in HTML仕様では、`p`要素にデフォルトのARIAロールは規定されていません。これは、WAI-ARIA 1.1で「段落」に相当するARIAロールが定義されていないためです。WAI-ARIA 1.2で`paragraph`ロールが導入される予定のため、近い将来、この要素はデフォルトで`paragraph`ロールを持つことになるでしょう。
2021年10月時点では、`p`要素について特別な読み上げをするスクリーンリーダーは知られていません。利用者にとっても、ある文が`p`要素なのかどうかはそこまで重要ではないので、ある文を`p`要素としてマークアップするかどうかについて、そこまで強いこだわりを持つ必要はないでしょう。`p`要素はあくまで段落をマークアップする1つの方法にすぎません。`p`要素以外でも段落をマークアップできるので、柔軟に考えてよいでしょう。
<!-- /a11y note -->

## `hr`要素

`hr`要素は、段落レベルのテーマの区切りを表します。小説であれば場面が変化するとき、論説であれば別の話題に移行するときなどに使用します。`section`要素や`h1`要素を使っている場合、それだけでテーマの変更を表現できているため、`hr`要素を併用する必要はありません。明示的に切れ目を表現したいが見出しは置けない、という場合に`hr`を使うことがあります。

<!-- 言い換えると、見出しを立てるまででもないけれども、話題が変わっているということなんだけど、そこまで説明を冗長にした方がいいのか。 -->
<!-- これが例示なのかは疑問だけど、とりあえず書いてみた。 -->
```html
<p>ウェブで一番よく目にする動物の画像と言えば、なんといっても猫でしょう。ウェブ上の猫の人気は、異常と言ってよいかもしれません。</p>
<hr>
<p>そうは言っても、現実世界で道ばたを人と一緒に散歩しているのはやっぱり犬です。犬の人気もまた、群を抜いていると言えます。</p>
```

### 内容モデル
`hr`の内容モデルはNothingです。この要素は空要素であり、内容を持つことはできません。また、終了タグを書くことはできません。
<!-- /内容モデル -->

<!-- a11y -->
`hr`要素はデフォルトで`separator`ロールを持ちます。スクリーンリーダーは「区切り」などと読み上げることがあります。また、スクリーンリーダーによっては、次の区切りにジャンプする機能が提供されていることもあります。

このように、`hr`は意味的な区切りとして伝えられることに注意してください。古いHTMLでは、`hr`要素は「横罫線」(horizontal rule)として定義されていたため、多くのビジュアルブラウザーでは、デフォルトスタイルで水平線が表示されます (このため、`hr`要素を「横方向分割バー」と読みあげるスクリーンリーダーも存在します)。しかし、スタイル目的で線を引くためにこの要素を使うべきではありません。この要素はあくまで意味的な区切りに使用し、スタイル目的で線を引く場合はCSSを使うようにします。
<!--
  Mac の VoiceOverでは「横方向分割バー」と読まれた。NVDAの読みは「区切り」と読まれた。
　参考: http://nvdajp.osdn.jp/howto/manual/#hrElement
-->
<!-- /a11y -->

## `pre`要素

`pre`要素は、内容が「整形済みテキスト」(preformatted text)であることを表します。整形済みテキストとは、テキストが空白や改行によって整形され、その整形された見た目に一定の意味があるものです。例としては、電子メールの文面、コンピューターコードの断片、アスキーアートなどが挙げられます。

通常は、要素内のテキストに改行を入れたり、スペースを複数入れたりしても、見た目には反映されません。以下は、Pythonで書かれたコードの断片を`p`要素に入れた例です。

```html
<p>
with open(filename, 'w') as fp:
    fp.write(body.encode('UTF-8'))

print('saved:' + filename)
</p>
```

これは、以下のように表示されます。

```text
with open(filename, 'w') as fp: fp.write(body.encode('UTF-8')) print('saved:' + filename)
```

改行はスペースになり、複数のスペースや改行が連続しても、スペースひとつ分の余白にしかなりません。この整形はHTMLのルールではなく、CSSで `white-space: normal` が指定されている場合の処理[^1]です。ほとんどの要素のデフォルトスタイルは`white-space: normal`となっていて、このルールが適用されます。

[^1]: https://www.w3.org/TR/css-text-3/#propdef-white-space

Pythonのコードでは空白や改行に意味があるため、上記のような表示をそのままコピーしても意図通りには動作しません。このように、整形済みテキストには空白や改行に意味があり、通常のルールを適用すると意味が通じなくなってしまうことがあります。

このような時に`pre`要素を使うと、改行や空白を維持してそのまま表示することが期待されます。これは、`pre`要素のデフォルトスタイルが`white-space: pre`となっているためです。`pre`要素のスタイルを上書きして`white-space`プロパティの値を変更すると、通常の要素のような表示に変えることもできます。逆に、通常の要素に`white-space: pre`を指定すれば、`pre`要素のような表示にすることもできます。とはいえ、そのようなことはしない方が良いでしょう。

なお、HTML構文では、`<pre>`タグ直後の改行は"inter-element whitespace"とみなされて除去されます。以下の2つは同じように表示されます。

<!--もうちょっと気の利いた例示が必要か。-->
```html
<pre>with open(filename, 'w') as fp:
    fp.write(body.encode('UTF-8'))

print('saved:' + filename)
</pre>
```

```html
<pre>
with open(filename, 'w') as fp:
    fp.write(body.encode('UTF-8'))

print('saved:' + filename)
</pre>
```

### 内容モデル
`pre`要素の内容モデルはPhrasingです。Phrasingに属する要素は入れられますので、整形済みテキストの一部をマークアップすることもできます。以下は、ユーザーがキーボードから入力する部分を明示的に`kbd`要素としてマークアップした例です。

```html
<pre>
&lt; <kbd>copy before.txt after.txt</kbd>
after.txt を上書きしますか? (Yes/No/All): <kbd>No</kbd>
        0 個のファイルをコピーしました。
&lt;
</pre>
```

このように、`pre`要素の内部でもマークアップは解釈されますし、文字参照も展開されます。文字として`<`を書きたい場合は`&lt;`とする必要があります。
<!-- /内容モデル -->

### アクセシビリティ上の注意点
`pre`要素にはデフォルトのロールはありません。スクリーンリーダーで特別な読み上げがなされることはありません。

`pre`要素を使ってアスキーアートを表現する場合、スクリーンリーダーでは無意味な記号の羅列が読み上げられてしまうことがあります。そのような場合、明示的に`role=img`を指定すると良いでしょう。ARIA in HTMLでは、`pre`要素でアスキーアートを表現し、キャプションをつける例が紹介されています[^2]。

[^2]: https://www.w3.org/TR/html-aria/#example-6

```html
<figure>
  <pre role="img">
  o           .'`/
    '      /  (
  O    .-'` ` `'-._      .')
      _/ (o)        '.  .' /
      )       )))     ><  <
      `\  |_\      _.'  '. \
        '-._  _ .-'       '.)
    jgs     `\__\
  </pre>
  <figcaption id="fish-caption">
    Joan G. Stark, "<cite>fish</cite>".
    October 1997. ASCII on electrons. 28×8.
  </figcaption>
</figure>
```

支援技術が`role=img`を解釈する場合、アスキーアートの中身を読み上げずに、キャプションを読むことが期待できます。
<!-- /a11y note -->

## `blockquote` 要素

`blockquote`要素は別のソースから引用されているセクションを表します。

文章を引用する際は、引用元を表記することが通例です。`blockquote`要素には`cite`属性があり、この属性で引用元のURLを示すことができます。しかし、現在のHTML仕様では、`cite`属性で指定したURLをブラウザーが解釈することを想定していません。ユーザーに引用元を提供する意図で`cite`属性を仕様することはお勧めしません。

では、引用元はどのように表現するべきでしょうか。HTML Standardでは、`blockquote`の外側に書く例が紹介されています。

```html
<blockquote>
<p>吾輩は猫である。名前はまだ無い。</p>
</blockquote>
<p>—夏目漱石 『<cite>吾輩は猫である</cite>』</p>
```

参考までに、W3C HTML 5.2では、`footer`要素を使用して、`blockquote`の内側に書く方法が示されていました。

```html
<blockquote>
<p>吾輩は猫である。名前はまだ無い。</p>
<footer>—夏目漱石 『<cite>吾輩は猫である</cite>』</footer>
</blockquote>
```

冗長ではありますが、明示的に引用文と引用元を関連付けたい場合は、`figure`要素と`figcaption`要素を使ってマークアップすることもできます。

```html
<figure>
 <blockquote>
  <p>吾輩は猫である。名前はまだ無い。</p>
 </blockquote>
 <figcaption>夏目漱石 『<cite>吾輩は猫である</cite>』</figcaption>
</figure>
```

### 内容モデル
`blockquote`の内容モデルは"Flow"です。テキストをそのまま書くこともできますし、`p`要素や`ul`要素などを複数入れても構いません。`h1`などの見出しを入れることも可能です。

見出しを入れる際は、アウトラインアルゴリズム上、`blockquote`要素がセクショニングルートとなることに注意してください。次の例のように、`blockquote`要素の中に見出しが入っていても、文書全体のアウトラインには影響しません。これは、本文の見出しレベルと引用部分の見出しレベルが整合しなくても、気にする必要がないということです。<!-- アウトラインの節をどこに置くか固まったら、「アウトラインについては、詳しくはこちらを参照」という文を入れたい。-->

<!--こう、もうちょっと柔らかい例をですね…-->
```html
<h4>著作権法について</h4>
<p>以下引用</p>
<blockquote>
<h3>（保護を受ける著作物）</h3>
<p>第六条　著作物は、次の各号のいずれかに該当するものに限り、この法律による保護を受ける。</p>
</blockquote>
```
<!-- /内容モデル -->

### アクセシビリティ上の注意点
ARIA in HTML仕様では、`blockquote`要素にデフォルトのARIAロールは規定されていません。これは、WAI-ARIA 1.1で「引用」に相当するARIAロールが定義されていないためです。WAI-ARIA 1.2で`blockquote`ロールが導入される予定のため、近い将来、この要素はデフォルトで`blockquote`ロールを持つことになるでしょう。

多くのスクリーンリーダーは、この要素に差し掛かると「引用」と読み上げ、この要素から抜ける時に「引用終了」と読み上げます。このように、スクリーンリーダーは`blockquote`要素を明確に引用として伝えます。引用ではない箇所にこの要素を使うことは避けるべきです。
<!-- /a11y note -->

## `ol`要素

`ol`要素は、リストを表します。リストを表す要素には、他にも後述する`ul`などがありますが、`ol`要素は順序をもったリストとなります。順序に意味がある項目、たとえば料理のレシピやスポーツ競技の順位結果などに用います。`ol`要素はリスト全体を表現し、個々のリスト項目は`li`要素で表現します。

```html
<ol>
<li>玉ねぎ、マッシュルームは薄切りにする。牛肉は幅5ミリに切って塩、こしょうをふる。ボウルに薄力粉を入れ、牛乳を少しずつ加えて泡立て器で溶いておく。<li>
<li>フライパンにバター10gを入れて中火にかけ、バターが溶けてきたら牛肉を加えて炒める。肉の色がしっかりと変わったら白ワインを注ぎ、煮たったらいったん取り出す。</li>
...
</ol>
```
<!-- ビーフストロガノフ https://www.sapporobeer.jp/feature/recipe/0000001518/ からレシピをお借り -->

`ol`要素のリストには順序がありますから、その中の項目には番号を振ることができます。多くのブラウザーのデフォルトスタイルシートでは、リストマーカーとして算用数字が表示されます。

番号の表示はスタイルシートで制御することができます。スタイルの指定によっては、番号を表示させないようにすることも可能です (CSSで`ol{list-style: none;}` のようなスタイルを適用した場合)。また、スタイルシートで番号を与える関係上、`ol`要素全体を選択してコピーした際、番号がコピーされない場合があります。利用規約の条文など、番号が重要な意味を持つ場合、あえて`ol`を使用せずに番号をテキストで直接書くという判断もありえるでしょう。

通常、`ol`は昇順リストとなり、番号は 1, 2, 3, … のように振られます。`reversed`属性を指定すると、降順リスト（…, 3, 2, 1）を表すことができます。

`type`属性を使用することで、リストのマーカー種類を指定することもできます。たとえば、10進数の数字の代わりに、アルファベットやローマ数字が表示されることが期待できます。ただし、CSSの`list-style-type`プロパティによる指定の方が優先されるため、必ずしもHTML側で指定したマーカー種類になるとは限りません。指定できる値の種類も、`list-style-type`プロパティのほうが豊富です[^3]。

[^3]:list-style-typeプロパティについては <https://drafts.csswg.org/css-lists/#text-markers> を参照。

`start`属性を使用することで、リストの開始する値を決定することができます。属性の値は整数です。以下の例では、リストマーカーは1から始まってカウントダウンすることになります。結果として、1, 0, -1 というリストマーカーがつけられることになります。

```html
<ol start="1" reversed>
<li>このリストは1から始まって</li>
<li>カウントダウンしていくという</li>
<li>やや風変わりな例です。</li>
</ol>
```

<!-- 互換性メモ -->
なお、`ol`要素の`type`属性と`start`属性は、HTML4の仕様では「非推奨」(deprecated)とされていましたが、現在のHTMLでも定義されており、廃止されていません。HTML4ではCSSで代用する想定でしたが、リストマーカーの数値は単なる装飾ではなく、意味を持つ場合もあるため、HTMLの属性として情報を持たせることができるようになっています。とはいえ、CSSでスタイルを上書きして別のマーカーに変更することも可能です。
<!-- /互換性メモ -->

### 内容モデル
`ol`要素の内容モデルは "Zero or more li and script-supporting elements." と定義されています。基本的には`li`要素だけが子要素になると考えて差し支えありません。また、`li`要素の個数はゼロでも良いので、中身が空の`ol`要素が存在していても構いません。最初は空の`ol`要素だけ置いておき、JavaScriptで後から`li`要素を挿入するという利用法もあります。

リスト項目の中に別のリストを入れることもできます。`ol`を他の`ol`の直接の子要素にすることはできませんが、`li`要素の子要素にはできますので、以下のようにリストを入れ子にすることが可能です。`li`要素の終了タグの位置に注目してください。

<!-- MDNからの借り物改 -->
```html
<ol>
  <li>1番目の項目</li>
  <li>2番目の項目    <!-- ここには終了タグはない -->
    <ol>
      <li>2番目の項目の、1番目のサブ項目</li>
      <li>2番目の項目の、2番目のサブ項目</li>
      <li>2番目の項目の、3番目のサブ項目</li>
    </ol>
  </li>            <!-- ここに終了タグを記述し、要素を閉じる -->
  <li>3番目の項目</li>
</ol>
```
<!-- /内容モデル -->

### アクセシビリティ上の注意点
`ol`のデフォルトのARIAロールは`list`です。スクリーンリーダーは、これがリストであることを伝えます。伝え方はスクリーンリーダーによって異なり、「リストの開始位置」とだけ読み上げるもの、「リスト2項目」のように項目数を読み上げるものなどがあります。

ほとんどの場合、リストマーカーの数字も読み上げられます。リストマーカーの種類を変えたり、`start`属性で開始番号を変更した場合の挙動は、ブラウザーやスクリーンリーダーによって異なります。見た目どおりに読まれる場合もあれば、開始番号の指定が無視されて1から順に読まれる場合もあります。リストマーカーの種類や開始番号を変更している場合に、そのことが伝わらない可能性があることに注意してください。
<!-- /a11y note -->

## `ul`要素

`ul`要素は、リストを表します。`ol`要素と異なるのは、項目の順序が重要でないということです。つまり、項目の順序を変更しても文書の意味が実質的に変わらないようなリストを表します。`ul`要素はリスト全体を表現し、個々のリスト項目は`li`要素で表現します。

### 内容モデル
`ul`要素の内容モデルは`ol`と同一です。`li`要素が子要素となる点、空の`ul`が許される点、`li`の中に別のリストを入れられる点も同様です。

以下のように、`ul`と`ol`を組み合わせて入れ子にすることもできます。

<!-- MDNからの借り物改 -->
```html
<ul>
  <li>(順番が重要でない) 1番目の項目</li>
  <li>(順番が重要でない) 2番目の項目    <!-- ここには終了タグはない -->
    <ol>
      <li>2番目の項目の、(順番に意味がある) 1番目のサブ項目</li>
      <li>2番目の項目の、(順番に意味がある) 2番目のサブ項目</li>
      <li>2番目の項目の、(順番に意味がある) 3番目のサブ項目</li>
    </ol>
  </li>            <!-- ここに終了タグを記述し、要素を閉じる -->
  <li>(順番が重要でない) 3番目の項目</li>
</ul>
```
<!-- /内容モデル -->

### アクセシビリティ上の注意点
`ul`のデフォルトのARIAロールは`list`で、`ol`と同様です。スクリーンリーダーは、これがリストであることを伝えます。伝え方はスクリーンリーダーによって異なり、「リストの開始位置」とだけ読み上げるもの、「リスト2項目」のように項目数を読み上げるものなどがあります。

`ul`の場合、リストマーカーの数字が読み上げられことはありませんが、スクリーンリーダーによっては、このリスト項目がリスト全体の何番目の項目なのかわかるように、「2分の1」などと読む場合があります。<!-- 参考: https://waic.jp/docs/as/info/202003/results/0014-01.html -->
<!-- /a11y note -->

## `li`要素

`li`要素は、リストに含まれる個々の項目を表します。これまでに取り上げた`ol`要素や`ul`要素の子要素として利用できます。具体的な使用例については、`ol`要素や`ul`要素を参照してください。

なお、`li`要素は`menu`要素の子としても使用できますが、`menu`要素は2021年時点ではウェブサイトでほとんど使われていないため、本書では`menu`要素を取り上げていません。`menu`要素については仕様を参照してください。

`value`属性を指定すると、`li`要素の親が`ol`要素である場合に、リストマーカーの番号を変更できます。以下の例では、3番目の`li`に`value=2`を指定しています。

```html
<ol>
<li>最初の項目</li>
<li><del>二番目の項目を削除</del></li>
<li value="2">三番目だった項目を二番手に昇格</li>
<li>四番目だった項目</li>
</ol>
```

この場合、リストマーカーの番号は順に1、2、2、3となります。後続の`li`要素も変更の影響を受けることに注意してください。番号を決定するアルゴリズムの詳細は、HTML仕様[^4]を参照してください。

[^4]: <https://html.spec.whatwg.org/multipage/grouping-content.html#ordinal-value>

<!-- 互換性メモ -->
`value`属性はHTML4の仕様では「非推奨」(deprecated)とされていましたが、現在のHTMLでも定義されており、廃止されていません。リストマーカーの数値は単なる装飾ではなく、意味を持つ場合もあるため、HTMLの属性として情報を持たせることができるようになっています。とはいえ、CSSでスタイルを上書きして別のマーカーに変更することも可能です。
<!-- /互換性メモ -->

### 内容モデル
`li`要素の内容モデルは"Flow"です。他のほとんどの要素を入れることができます。先に述べたように、`ol`や`ul`を入れ子にすることも可能です。

`h1`などの見出しを入れることも可能です。ただし、`li`の中に見出しを入れた場合、アウトラインアルゴリズムによって、リストの途中で別のセクションが始まることになります。リストが途中で別のセクションに分割されてしまう構造は、望ましくないことが多いでしょう。
<!-- /内容モデル -->

### アクセシビリティ上の注意点
`li`要素のフォルトのARIAロールは`listitem`です。スクリーンリーダーによる扱いは、親要素が`ol`要素の場合と`ul`要素の場合とで異なる場合があります。`ol`要素や`ul`要素を参照してください。
<!-- /a11y note -->

## `dl`要素

`dl`要素は、名前と値のグループから構成される、説明リスト（description list）あるいは関連リスト (association list) を表します。古いHTMLでは用語の定義のために用いられており、定義リスト（definition list）と呼ばれていました。現在は意味が再定義され、用語定義以外の用途にも使えるようになっています。名前と値のグループの例としては、用語とその定義、メタデータのトピックと値、質問と回答などが挙げられます。

### 内容モデル
`dl`要素の内容モデルは以下のように定義されています。

Either: Zero or more groups each consisting of one or more dt elements followed by one or more dd elements, optionally intermixed with script-supporting elements. Or: One or more div elements, optionally intermixed with script-supporting elements.

`dl`要素を使用する場合、名前を`dt`要素、値を`dd`要素で表現します。名前と値の対応は、必ずしも一対一である必要はありません。以下の例は、1つの定義を2つの用語にリンクするものです。定義を示すために`dfn`要素を使用します。

<!-- WHATWG改 goo辞書改。-->
```html
<dl>
 <dt lang="ja"> <dfn>色</dfn> </dt>
 <dt lang="en-GB"> <dfn>colour</dfn> </dt>
 <dd>光の波長の違い（色相）によって受ける感覚。
 また、明るさ（明度）や鮮やかさ（彩度）によっても異なるように感じる。</dd>
</dl>
```

このように、多くの場合、`dl`要素の直下に`dt`要素と`dd`要素を入れますが、名前と値のグループを`div`要素で囲むこともできます。次の例は、メタデータをマークアップする`dl`要素の使用例です。最後のグループが、2つのメタデータラベル（"著作者"と"編集者"）と2つの値（"Robert Rothman"と"Daniel Jackson"）を持ちます。

<!--例示と説明文はWHATWG改。-->

```html
<dl>
 <div>
  <dt>最終更新日</dt>
  <dd>2004-12-23T23:33Z</dd>
 </div>
 <div>
  <dt>推奨の更新間隔</dt>
  <dd>60秒</dd>
 </div>
 <div>
  <dt>著作者</dt>
  <dt>編集者</dt>
  <dd>Robert Rothman</dd>
  <dd>Daniel Jackson</dd>
 </div>
</dl>
```

このように`div`でくくる場合、`dl`要素直下には`div`要素だけが出現する必要があり、`dl`直下に`dt`や`dd`が出現することはできません。よって、以下のように混在させることはできません。

<!-- 誤った例 -->
```html
<dl>
  <dt>最終更新日</dt>
  <dd>2004-12-23T23:33Z</dd>
  <dt>推奨の更新間隔</dt>
  <dd>60秒</dd>
  <div>
    <dt>著作者</dt>
    <dt>編集者</dt>
    <dd>Robert Rothman</dd>
    <dd>Daniel Jackson</dd>
   </div>
</dl>
```

### アクセシビリティ上の注意点

`dl`要素のアクセシビリティ上の扱いには注意が必要です。2021年12月現在のARIA in HTMLによる定義では、`dl`要素にはデフォルトのARIAロールはなく、`dt`、`dd`要素のロールはそれぞれ`term`、`definition`となります。

しかし、2018年6月時点のARIA in HTMLでは、`dl`要素は`list`ロール、`dt`と`dd`要素は`listitem`ロールとされていました<!-- このコミットで修正されている: https://github.com/w3c/html-aria/commit/bdc9341a86a4b7e22db86e38888c530517f09b73 -->。そのため、スクリーンリーダーによっては、`dl`要素を単なるリストとし、`dt`と`dd`要素をいずれもリスト項目として等しく扱うことがあります。たとえば、以下の例は名前・値の組み合わせが1つですが、「2件のリスト」と読み上げられる場合があります。

```html
<dl>
  <dt>name</dt>
  <dd>value</dd>
</dl>
```

なお、2021年12月現在で勧告候補となっているWAI-ARIA 1.2では、`term`ロールは`dfn`要素に対応するものとされ、`definition`ロールは`dd`要素と無関係なものと位置付けられています。

また、2021年12月現在でEditor's DraftとなっているWAI-ARIA 1.3では、`dl`、`dt`、`dd`要素に対応する`associationlist`、`associationlistitemkey`、`associationlistitemvalue`というロールが新たに定義されています。

このように、`dl`要素に関連するロールの仕様はかなり流動的です。当面の間、スクリーンリーダーによる`dl`関連要素の扱いは安定しないものと考えられます。
<!--
https://www.w3.org/TR/2021/CR-wai-aria-1.2-20210302/#definition
https://www.w3.org/TR/2021/CR-wai-aria-1.2-20210302/#term
https://w3c.github.io/aria/#associationlist
-->

`dl`要素は一見便利に利用できますが、本当に`dl`要素が適切かどうかは慎重に検討してください。

`dt`要素は見出しではないため、小見出しのようなものを`dt`要素とすると、見出しにジャンプする機能は提供されません。`dd`要素の内容が長文になるようなケースでは、見出しを利用したほうがよいでしょう。

対談や会話の表現に`dl`要素を利用し、話者を`dt`要素、発言を`dd`要素で表現するケースも見られますが、HTML Standardでは単純に`p`要素で表現することを勧めています[^5]。

[^5]: <https://html.spec.whatwg.org/multipage/semantics-other.html#conversations>
<!--
>Instead, authors are encouraged to mark up conversations using p elements and punctuation. 
-->

ただし、発言に対する返答が階層構造になるような複雑なケースについては、`dl`要素で表現するケースも例示されています。対応関係や階層構造を表現する必要がある場合は`dl`要素を利用し、そうでない場合は他の要素を検討すると良いでしょう。
<!-- /a11y note -->

## `figure`要素

`figure`要素は、図版などの文書の本文から参照される自己完結型のコンテンツを表します。figureという単語は図やさし絵といった意味ですが、単なる図の他にも画像、図表、例、コード断片などに使用できます。以下の性質を全て満たすものは`figure`要素としてマークアップすることができます。

- 本文から参考として参照されている
- 本文から切り離しても、本文が意味不明にならず成立する。
- 自己完結しており、本文と合わせて読まなくても、単独で一つのコンテンツとして成立する

たとえば、文の一部となっている画像は、文から切り離すと成立しなくなるため、`figure`要素にすることは不適切です。ひとつの段落全体が画像で表現されているような場合は、前後の文と切り離しても単独で成立するため、`figure`要素にできると考えられます。たとえば、`figure`要素をまるごと取り除いて別ページや付録に移動しても成立するかどうか、と考えてみるとわかりやすいでしょう。

### 内容モデル
`figure`要素の内容モデルは、以下のいずれかです。

- one figcaption element followed by flow content
- flow content followed by one figcaption element
- flow content

簡単に言えば、まず、この要素の子要素として"Flow"に属する要素を入れることができます。それに加えて、`figcaption`要素をひとつ置くことができます。`figcaption`要素の内容は、その`figure`要素のキャプションとみなされます。`figcaption`要素はなくても構いませんが、複数置くことはできません。また、`figcaption`は`figure`の中の先頭か末尾に置く必要があり、他の要素で`figcaption`を挟むことはできません。

以下は、`figure`要素の内容の末尾に`figcaption`を置いた例です。

<!--何かfigure要素の例示…もっと役に立ちそうなものをですね-->
```html
<figure id="fig2">
 <img src="saji.png" alt="匙が山のように積み上がっている絵">
 <figcaption>図 2. 投げた匙の数</figcaption>
</figure>
```
<!--代替テキストの議論はここでする？-->

アウトラインアルゴリズムにおいて、`figure`要素は`blockquote`要素と同様にセクショニングルートとなります。セクショニングルートについては`blockquote`要素も参照してください。
<!-- /内容モデル -->

### アクセシビリティ上の注意点
`figure`要素のデフォルトのARIAロールは`figure`です。一方`figcaption`要素にデフォルトのARIAロールは規定されていませんが、WAI-ARIA 1.2で`caption`ロールが導入される予定のため、近い将来、この要素はデフォルトで`caption`ロールを持つことになるでしょう。
`figcaption`要素がある場合、その内容は`figure`要素のキャプションとみなされます。`figure`要素の子要素に`img`要素を入れている場合、`alt`属性と同じ内容を`figcaption`要素でキャプションとして指定すると、同じ内容が二度読まれることになりますので注意してください。
<!-- /a11y note -->

## `main`要素

`main`要素は、文書の主要なコンテンツを表します。WAI-ARIAの`main`ランドマークロールと同じ役割を持ちます。とくに、スクリーンリーダーのユーザーが長いヘッダーやナビゲーション部分を読み飛ばして本文のある`main`要素にジャンプする、いわゆるスキップリンクのような挙動を期待できます。以下は`main`要素を使用した例です。

```html
<nav>
...多数のナビゲーションリンク...
</nav>
<main>
<h1>...</h1>
<article>
<h2>...</h2>
<p>...</p>
</article>
</main>
```

### 内容モデル
`main`要素はその性質上、原則として、1つのHTMLページに1つしか置くことができません。例外として、`hidden`属性を指定した`main`要素は複数存在しても構いません。以下の例のように、1つを除いて`hidden`を指定することで、複数の`main`を1つのHTMLに置くことができます。これは、HTMLにあらかじめ複数の`main`を配置しておき、JavaScriptで表示を切り替えるようなケースが想定されています。

<!-- 以下は仕様より -->
```html
<main>
 <h1>Home</h1>
 …
</main>
<main hidden>
 <h1>About</h1>
 …
</main>
<main hidden>
 <h1>Contact</h1>
 …
</main>
```

また、`main`要素は基本的に`body`要素の直下に置く必要があります。`div`要素やアクセシブルな名前を持たない`form`要素を挟むことは許されますが、他の意味のある要素の子孫要素にすることはできません。このため、`main`要素を他のランドマーク要素の中に入れることはできません。
<!-- /内容モデル -->

### アクセシビリティ上の注意点
`main`要素のARIAロールは、要素名と同じ`main`です。スクリーンリーダーはこの要素に差し掛かると「メインランドマーク」のように読むことがあります。ランドマークとして機能するため、ランドマークにジャンプする機能で移動できます。
<!-- /a11y note -->

ページの`main`要素にグローバルヘッダー部分を含めているケースがありますが、その場合、`main`ランドマークにジャンプしてもナビゲーションをスキップできません。ヘッダーやフッター、サイトナビゲーションを除いた範囲を文書の主要部分として、`main`要素を指定するのがよいでしょう。

## `div`要素

`div`要素は、特別な意味を持ちません。具体的な使用例としては、スタイルを付ける目的で`id`属性や`class`属性と一緒に使用する、あるいは`lang`属性などを付与するために使用することなどが挙げられます。特別な意味を持たない要素としては、`div`の他に`span`要素がありますが、カテゴリーと内容モデルが異なっており、`div`のほうがより大きなグループ化に向いています。つまり、`div`は汎用のグループ化のための要素と言えます。

以下は、単にスタイリングのために`div`要素を使用している例です。

```html
<!-- スタイリングのために、入れ子にする例 -->
<div class="wrapper">
  <div class="inner">
    <p>...</p>
  </div>
</div>
```

以下のように、文書の一部で異なる言語が使われていることを示すこともできます。

```html
<!-- 異なる言語であることを明示する例 -->
<div lang="lzh">
國破山河在
</div>

<div lang="ja">
国破れて山河在り
</div>
```
<!-- source: https://ja.wikisource.org/wiki/%E6%98%A5%E6%9C%9B -->

またこの要素は、他に適切な要素がなかった場合の最後の手段としても使われます。たとえば、`section`要素がまだ定義されていなかった頃のHTMLでは、セクションを示すために`div`要素を使用するケースがありました。

```html
<!-- 古いHTMLの例 -->
<div class="section">
<h1>見出し</h1>
<p>本文...</p>
</div>
```

しかし、もし適切な要素が他にある場合は、その要素を使用すべきです。上記の例は、現在では以下のように書いたほうが良いでしょう。

```html
<!-- 現在では次のように書ける -->
<section>
<h1>見出し</h1>
<p>本文...</p>
</section>
```

<!-- 互換性メモ -->
かつてのHTMLでは、`div`要素に`align`属性が定義されていましたが、`p`要素の`align`属性と同様に廃止されています。詳しくは`p`要素の説明を参照してください。
<!-- /互換性メモ -->

### 内容モデル
通常、`div`要素の内容モデルは"Flow"です。多くの要素を子要素にできるため、柔軟なグルーピングが可能です。
例外として、`div`要素が`dl`要素の子要素として使われている場合は、`dt`要素と`dd`要素のみが子要素となります。この用法については`dl`要素を参照してください。
<!-- /内容モデル -->

### アクセシビリティ上の注意点
`div`要素にはデフォルトのARIAロールはありません。`div`要素自体は意味を持たないため、`div`要素のみを使ったマークアップは、スクリーンリーダーのユーザーには何の意味も伝わりません。`div`で何か意味を伝えたい場合は、別のマークアップに置き換えるか、あるいはWAI-ARIAを併用する必要があります。適切な要素が他にある場合は、その要素を使用する必要があります。
<!-- /a11y note -->
