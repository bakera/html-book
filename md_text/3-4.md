<!-- ch3-4.txt (4ページ、3000～4600字想定) -->
# テキストレベルセマンティックス

この節では、30ほど存在する、主にテキストをマークアップすることを目的とした要素を紹介します。

## `a`要素

`a`要素は、「アンカー」(anchor) を表現する要素です。多くの場合は`href`属性を指定して利用します。`href`属性を指定した場合、この要素はハイパーリンクとして機能します。

`href`属性に指定できる値は、「潜在的にスペースで囲まれた妥当なURL」(valid URL potentially surrounded by spaces)です。先頭と末尾のASCII空白文字はブラウザーがHTMLを解析するときに取り除かれます。たとえば、以下の2つの`a`要素は同じ意味になります。

```html
<a href="https://www.example.com/">Example Domain</a>
<a href="
    https://www.example.com/
">Example Domain</a>
```

引用符の内側にある先頭と末尾のスペースは基本的には不要です。コードの可読性の観点から、通常はスペースを入れずに書いた方が良いでしょう。

`href`属性値を`#top`とした場合、現在のページの最上部へのリンクとして機能します。これは、仕様に定められた挙動です[^1]。ただし、`id="top"`がページ内に別に存在する場合は、その場所へのリンクとなります。

[^1] https://html.spec.whatwg.org/multipage/browsing-the-web.html#scroll-to-fragid

`download`属性が存在する場合、`href`属性で示されたリソースをダウンロードします。`download`属性の値には、ダウンロード時のファイル名を指定します。属性の値に制限はありませんが、この属性の値が必ず使われるとは限りません。OSの制約でファイル名に使用できない文字は、削除されたり置換されたりすることがあります。また、実際にダウンロードする際のHTTP応答ヘッダーでファイル名が指定されていた場合は、属性の指定よりもそちらが優先されます。
<!--
Content-Dispositionにファイル名があればそちらが優先。
https://html.spec.whatwg.org/multipage/links.html#downloading-hyperlinks
-->

`target`属性が存在する場合、リンク先URLのリソースを表示する場所を指定します。指定する値は「ブラウジングコンテキスト」(Browsing context)と呼ばれるもので、多くの場合は、ブラウザーウィンドウやブラウザータブの名前を指します。古いHTMLでは、この属性は「フレーム」の機能でWebページを分割した際にどの箇所にリンク先を表示するか指定するために使われていました。現在でも`iframe`要素の名前を指定することが可能です。

このほか、`traget`属性には`_`で始まるキーワードを指定できます。キーワードは`_blank`、`_self`、`_parent`、`_top`の4つで、このうち`_blank`は、新しいブラウジングコンテキスト（通常はブラウザーのタブ）にリソースを読み込みます。他の3つはフレームが利用されていた頃に使用されていたもので、現在では使われていません。

<!-- 内容モデル -->
`a`要素の内容モデルは"Transparent"で、親要素の内容モデルを引き継ぎます。古いHTMLでは、`a`要素の中に`div`,`p`,`h1`などの要素を入れることはできませんでしたが、現在のHTMLでは見出しや段落などをまるごとリンクにすることも可能です。

```html
<body>
<a href="/product/01">
    <h1>商品名</h1>
    <p>説明文</p>
</a>
</body>
```
<!-- /内容モデル -->

<!-- a11y note -->
`a`要素のデフォルトのARIAロールは`link`です。`a`要素の内容はリンクテキストとして扱われますが、ほとんどのスクリーンリーダーはリンクテキストを全て読み上げた後に「リンク」と読み上げます。現在のHTMLでは`a`要素に見出しなどを含む多数の要素を入れられるようになりましたが、大量のテキストをリンクにした場合、リンクであることが伝わりにくくなる場合があります。

スクリーンリーダーをはじめ多くの支援技術は、次のリンクに飛ぶ機能や、リンクだけを読み上げる機能を持ちます。リンクテキストと前後の文を読むことにより、リンク先がどのような内容なのかが理解できるのは、どのようなウェブページであっても原則として必須ですが、前後の文とは切り離されてリンクだけが読まれることを考えると、リンク先の内容をリンクテキストのみで理解できることが好ましいと言えます。これはWCAG 2.1の達成基準 2.4.9「リンクの目的 (リンクのみ)」の要求事項にもなっています。

リンクと似た概念としてボタンがありますが、リンクはあくまでリンクであることに注意してください。`a`要素の見た目をボタンのようなものに変更したり、クリックした際にボタンのような挙動をさせることもできます。

```html
<p><a href="#" oncleck="...">実行</a></p>
<p><a href="javascript:void(0);" oncleck="...">実行</a></p>
```

しかし、スクリーンリーダーはこれをあくまでリンクとして扱うため、スクリーンリーダーの利用者には他のリンクと同じように伝わります。つまり、ボタンであることは伝わりません。このように書くのは`a`要素本来の意味であるハイパーリンクとは異なる使い方です。ボタンには`button`要素を使用しましょう。

`target`属性にも注意が必要です。`target="_blank"`を指定すると、多くの場合、リンク先を別のブラウザータブで開く挙動になります。この挙動はユーザーによっては伝わりにくいことがあり、特にスクリーンリーダーのユーザーや画面を拡大しているユーザーの場合、状況によっては別タブになったことに気づかずに混乱することがあります。`target="_blank"`をそもそも指定しないことや、指定する場合にリンクテキスト内で「新しいタブが開く」旨の説明を検討するとよいでしょう。これはWCAG 2.1の達成基準3.2.5「要求による変化」の要求事項にもなっています。
<!-- / a11y note -->

### コラム: href属性を持たないa要素

通常、`a`要素は`href`属性を持ちますが、文法上は`href`属性を持たなくても良いことになっています。

```html
<a>リンクになるかもしれないテキスト</a>
```

この場合、ハイパーリンクとしては機能しませんが、スクリプトによって後から`href`属性を付与することが可能です。また、以下のようにid属性を指定し、リンク先として機能させることもできます。

```html
<h1><a id="midashi">見出し</a></h1>
```

このような書き方は、非常に古いHTMLでid属性が使えなかった頃の名残です。当時は`a`要素に`name`属性を指定することで、ページ内リンクのリンク先を示していました。現在でもフラグメントIDを「アンカー」と呼ぶことがありますが、それは当時`a`要素(アンカー)が使われていた頃の名残です。HTML5では、`a`要素の`name`属性は廃止されています[^2]。

現在では、これは単に以下のように書けば事足りるでしょう。

```html
<h1 id="midashi">見出し</h1>
```

[^2]: コンテンツ制作者は`name`属性を使うべきではありませんが、ブラウザ側は互換性のために`name`属性を解釈します。 <https://html.spec.whatwg.org/multipage/obsolete.html#obsolete-but-conforming-features>

## `em`要素

`em`要素は、強調、強勢を表します。たとえば、文の一部を強調してニュアンスを変化させることができます。以下は具体的です。

```html
<p>猫はかわいい動物です。</p>
<p><em>猫</em>はかわいい動物です。</p>
<p>猫<em>は</em>かわいい動物です。</p>
<p>猫はかわいい<em>動物</em>です。</p>
<p><em>猫はかわいい動物です！</em></p>
```
<!-- 原文 Cats are cute animals. 日本語では「は」と「が」のニュアンスが異なるため、あまり良い例ではないようにも感じる。 -->

`em`要素の有無や場所によってニュアンスが違ってきます。「猫」を強調すれば、動物の種類が重要というニュアンスになりますし、「動物」を強調すれば、かわいいけれどあくまで動物であることを忘れないように、というニュアンスが出てくるでしょう。`em`要素は文全体を強調することもでき、その場合は、言いたいことを伝えるために懸命であるようなニュアンスが出てきます。

<!-- 内容モデル -->
`em`要素の内容モデルは"Phrasing"です。`em`自身もPhrasingに属しますから、複数の`em`を入れ子にすることもできます。これによって、より強いレベルの強調を表現することができます。
<!-- /内容モデル -->

<!-- a11y note -->
`em`要素にはデフォルトのロールはありません。多くのスクリーンリーダーは、`em`要素について特別な読み上げをしないため、伝わらない可能性があります。`em`要素の有無で文の意味が大きく変わるような表現は避けた方が良いでしょう。

ブラウザのデフォルトスタイルでは、`em`要素がイタリック体（斜体）で表現されることが多いため、斜体を表現する意図でこの要素が使用されることもあります。しかし、`em`要素は斜体のための要素ではありません。英語のようなアルファベット主体の言語において、慣用的にイタリック体にする必要がある箇所については、`i`要素を使うのが適切かもしれません。

また、`em`要素は重要性を伝えるものではない点に注意してください。重要性を伝えたい場合には、後述の`strong`要素を使います。
<!-- /a11y note -->

## `strong`要素

<!--
仕様でこの要素だけ Importance: のようなユニークな書き方をしているのは、これ自体をstrong要素のマークアップ例としているため。書籍ではこのスタイルを踏襲する意味はないものと思われる。
>For example, the first word of the previous paragraph is marked up with strong to distinguish it from the more detailed text in the rest of the paragraph.
-->
`strong`要素は、重要性、深刻性、または緊急性を表します。古いHTMLでは強調を表すとされていましたが、現在は単なる強調の目的で使用することは推奨されません。強調目的には`em`要素を使用します。

以下は`strong`要素で重要性を表現した例です。文から本当に重要である部分を区別するために、見出し、キャプション、または段落で使用できます。

```html
<p><strong>酸性タイプ</strong>の製品と一緒に使う（まぜる）と有害な塩素ガスが出て<strong>危険</strong>。</p>
```

以下は深刻性を示した例です。警告または注意の通知をマークアップするために使用できます。

```html
<p><strong>注意。</strong> テレビを見るときは、部屋を明るくして、なるべくテレビから離れて見てね。</p>
```

以下は緊急性を示した例です。ユーザーに、他の部分より先に読んでほしい箇所を示すために使用しています。

```html
<p>リマインダー</p>
<p>今日のタスク:</p>
<ul>
 <li><p><strong>オーブンの電源を切る。</strong></p></li>
 <li><p>ごみを出す。</p></li>
 <li><p>洗濯する。</p></li>
</ul>
```
<!-- 内容モデル -->
`strong`要素の内容モデルは"Phrasing"です。`strong`自身もPhrasingに属しますから、複数の`strong`を入れ子にすることもできます。これによって、より強い重要性を表現することができます。
<!-- /内容モデル -->

<!-- a11y note -->
`strong`要素にはデフォルトのロールはありません。重要性を伝えるとされているにもかかわらず、多くのスクリーンリーダーは、`strong`要素について特別な読み上げをしないことに注意してください。`strong`要素の有無で文の意味が大きく変わるような表現は避けた方が良いでしょう。
<!-- /a11y note -->


## `small`要素

`small`要素は、一般的に小さい文字で表記されるような、副次的なコメントを表現します。例としては、著作権表示、免責事項、法的な注意書きなどが挙げられます。以下は著作権の帰属表示（Copyright）に用いられている例です。

```html
<p><small>© ボーンデジタル</small></p>
```

その他の副次的なコメントを表現するのに使うこともできます。

```html
<p>しょうゆ 198円<small>（税込み）</small>
```

`small`要素が文の強弱を表現しないことに注意してください。`em`要素や`strong`要素と反対の意味に使うようなものではありません。また、`em`や`strong`と併用して、`small`で表現された内容を強調したり、重要性を表現することも可能です。

<!-- 内容モデル -->
`small`要素の内容モデルは"Phrasing"です。基本的に、テキストの一部を修飾する形で利用します。注意書きが長文になるケース、たとえば長文の利用規約を掲載するような場合には、`small`要素を利用するべきではありません。利用規約はそれ全体が利用規約の本文であると考え、副次的なコメントとしては扱いません。
<!-- /内容モデル -->

<!-- a11y note -->
`small`要素にはデフォルトのロールはありません。多くのスクリーンリーダーは、`small`について特別な読み上げをしませんので、`small`要素が使われていることは伝わらない可能性があります。`small`要素の有無で意味が大きく変わるような表現は避けた方が良いでしょう。
<!-- /a11y note -->

## `s`要素

`s`要素は、もはや正確でなくなったものや、関連しなくなったものを表現します。ブラウザのデフォルトスタイルシートでは、多くの場合、打ち消し線を伴って表現されます。以下は、価格が値下され、値下げ前の価格がもはや正確でないことを表現するために`s`要素を使う例です。

```html
<p>ゲーミングキーボード</p>
<p><s>希望小売価格 15000円</s></p>
<p>セール価格 9800円</p>
```

`s`要素は、編集による削除や訂正を表現するわけではないことに注意してください。編集による削除を表現したい場合は`del`要素を使用します。

<!-- 内容モデル -->
`s`要素の内容モデルは"Phrasing"です。他のPhrasingに属する要素を丸ごと修飾することができますが、`p`要素などを子にすることはできません。段落丸ごとを`s`で修飾するような使い方はできませんので注意してください。
<!-- /内容モデル -->

<!-- a11y note -->
`s`要素にはデフォルトのロールはありません。多くのスクリーンリーダーは`s`について特別な読み上げをしないことに注意してください。`s`要素はテキストの意味を変更する意図で使われることが多いにもかかわらず、伝わらないことがあるため特に注意が必要です。以下は望ましくない例です。

<!-- 望ましくない例 -->
```html
<p>価格 <s>98</s>90円</p>
```

これは、視覚的には98円を90円に訂正したように見えるかもしれません。しかし、`s`要素の存在が伝わらないケースでは、9890円の商品であると誤解される危険があります。先に挙げた例のように、それぞれの価格が何であるのか、前後のテキストからわかるようにするべきです。
<!-- /a11y note -->

## `cite`要素

`cite`要素は、作品などのタイトルを表現します。ここでいう作品には、書籍、文書、楽曲、映画、ゲーム、プログラム、美術作品、法律関係の文書といったさまざまなものを含みます。ただし、人名はここでいうタイトルには含みません (たとえ作品の著者であっても)。

典型的には、引用の際の出典や、参考文献のタイトルを示す際に利用します。例えば、SIST 02『参照文献の書き方』[^1]に従った文献情報は、次のようにマークアップできます。

```html
<p>Berners-Lee, Tim. <cite>Web の創成 World Wide Web はいかにして生まれどこに向かうのか</cite>. 高橋徹監訳. 毎日コミュニケーションズ, 2001, 279p.</p>
```

[^1]: https://jipsti.jst.go.jp/sist/handbook/sist02_2007/main.htm

また、通常の文章の途中で利用することもできます。

```html
<p>本文は英語版Wikipediaの<cite>HTML</cite>の項目を参考にしました。</p>
```

タイトル以外のものを`cite`要素に含めることは望ましくありません。たとえば、以下は望ましくない例となります。

<!-- 正しくない例 -->
```html
<p>本文は<cite>英語版WikipediaのHTMLの項目</cite>を参考にしました。</p>
```

<!-- 内容モデル -->
`cite`要素の内容モデルは"Phrasing"です。作品のタイトルにマークアップを含むことは少ないと思いますが、Phrasingに属する要素を入れることは可能です。
<!-- /内容モデル -->

<!-- a11y note -->
`cite`要素のデフォルトのロールはありません。多くの場合、作品のタイトルであることは前後の文脈から伝わると思いますが、`cite`要素の有無で意味がわかるような表現は避けましょう。
<!-- /a11y note -->

## `q`要素

`q`要素は、別のソースから引用されたフレージングコンテンツを表現します。フレージングコンテンツではなく、段落の塊を引用するような場合には`blockquote`要素を使用してください。

この要素を用いると、要素の前後に引用符が自動的に挿入されます。そのため、要素の前後に引用符の文字を入れておく必要はありません。逆に、テキスト中の引用箇所に既に引用符がついているなら、無理に`q`要素としてマークアップする必要はありません。

なお、補われる引用符の種類は言語に依存し、たとえば日本語ではかぎ括弧(「」)、英語ではクォーテーションマーク("")となるのが一般的です。また、スタイルシートで引用符の種類を指定することもできます[^1]。

[^1]: <https://www.w3.org/TR/css-content-3/#quotes>

以下は`q`要素を使用して俳句を引用した例です。

```html
<p lang="ja">松尾芭蕉が<q>五月雨を集めて早し最上川</q>と詠った最上川は……</p>
<p lang="en">松尾芭蕉が<q>五月雨を集めて早し最上川</q>と詠った最上川は……</p>
```

一般的なブラウザのデフォルトスタイルでは、以下のように引用符が補われます。

```text
松尾芭蕉が「五月雨を集めて早し最上川」と詠った最上川は……
松尾芭蕉が“五月雨を集めて早し最上川”と詠った最上川は……
```

引用ではないものに対して`q`要素を使用しないようにしてください。たとえば、特別な意味で使用する単語や、人物の発言などを引用符で括る表現は一般的ですが、それらは引用ではないため、`q`要素で表現することは適切ではありません。

`cite`属性を指定すると、引用の出典となるURLを示すことができます。指定できる値は、「潜在的にスペースで囲まれた妥当なURL」(valid URL potentially surrounded by spaces)で、これは`a`要素の`href`属性と同様です。ただし、標準的なブラウザはこれをリンクとしては扱わないことに注意してください。出典へのリンクを設ける際は、`cite`要素や`a`要素を併用すると良いでしょう。

<!-- 内容モデル -->
`q`要素の内容モデルは"Phrasing"です。`q`要素自身もPhrasingに属するため、`q`を入れ子にすることも可能です。つまり、引用を含むフレーズをさらに引用したという表現が可能です。
<!-- /内容モデル -->

<!-- a11y note -->
`q`要素にはデフォルトのロールはありません。スクリーンリーダーは`q`要素を特別に読み上げない可能性があります。ただし、前後に補われた引用符は読まれることがあります (記号を読み上げるかどうかはスクリーンリーダーの設定に依存し、設定によっては読まない場合もあります)。
<!-- /a11y note -->


## `dfn`要素

`dfn`要素は、文書中で用語を定義する際の、定義された用語を表します。

この要素を使用する際は、その定義 (用語の説明) とセットにする必要があります。`dfn`要素の最も近い祖先要素となる段落(典型的には`p`要素ですが、`p`要素に限りません)、セクション、あるいは説明リスト(`dl`)のグループに、定義の説明を含めなければなりません。

通常は、`dfn`要素の内容が用語として定義されることになります。以下の例では「dfn」という単語を定義していることになります。

```html
<!-- dfn要素として囲まれたテキスト、dfnが定義 -->
<p><dfn><code>dfn</code></dfn>要素は、用語の定義を表します。</p>
```

`dfn`要素に`title`属性が指定されている場合、`title`属性で指定した値が用語として定義されます。以下の例では、説明文としては「重曹」という単語を出しながら、「炭酸水素ナトリウム」という用語の定義をしています。

```html
<!-- title属性の値、炭酸水素ナトリウムが定義 -->
<p><dfn title="炭酸水素ナトリウム">重曹</dfn>は、常温で白い粉末であり……</p>
```

このため、`dfn`要素に`title`属性を指定する際には、定義される用語以外のものを含めることはできません。

また、`dfn`要素の唯一の子要素が`title`属性を持つ`abbr`要素である場合は、その`abbr`要素の`title`属性の値が用語として定義されたことになります。

```html
<!-- abbr要素のtitle属性の値、Hypertext Markup Languageが定義 -->
<p><dfn><abbr title="Hypertext Markup Language">HTML</abbr></dfn>は、マークアップ言語の一種であり……</p>
```

上記以外の`title`属性は用語の定義に影響しません。`dfn`要素の祖先要素に`title`属性が指定されていても、その用語を定義したことにはなりません。

<!-- 内容モデル -->
`dfn`要素の内容モデルは"Phrasing"ですが、`dfn`要素を子孫要素に持つことは禁止されています。`dfn`要素を入れ子にすることはできません。
<!-- /内容モデル -->

<!-- a11y note -->
`dfn`要素のデフォルトのARIAロールは`term`です。とはいえ、多くのスクリーンリーダーは特別な読み上げをしません。前後の文脈から、用語の定義であることがわかるようにすると良いでしょう。
<!-- /a11y note -->


## `abbr`要素

`abbr`要素は、略語や頭字語を表します。`title`属性を指定すると、その値は内容の単語を展開したもの (省略しない、完全な表記) を表します。

```html
<abbr title="World Wide Web Consortium">W3C</abbr>
<abbr title="日本銀行">日銀</abbr>
```

前後で何の略か説明している場合など、展開を示す必要がないケースでは`title`属性を指定せずに使うこともできます。

```html
<abbr>HTML</abbr>はHyperText Markup Languageの略です。
```

ただし、`title`属性を指定せずに`abbr`要素を使った場合、同一の略語は同一の展開を持つものとみなされます。異なる言葉が同じ略語になるような場合は、それぞれに`title`属性を指定しないと混乱を招きます。

```html
<p><abbr title="System and Organization Controls">SOC</abbr>レポートの中では、
<abbr title="Security Operation Center">SOC</abbr>によるシステム監視に言及している。</p>
```

また、全ての略語や頭字語を`abbr`要素としてマークアップしなければならないわけではありません。たとえば、前後にカッコ書きをつけることで略語であることを示すこともできます。

```html
HTML (HyperText Markup Language) はマークアップ言語の一種であり……
```

このような表記ができない場合や、読者に馴染みのない単語、注釈を付けたい単語などに`abbr`要素を使用すると良いでしょう。

<!-- 互換性メモ -->
HTML4では、頭字語を表現するための`acronym`要素が`abbr`要素と別に定義されていましたが、HTML5では`acronym`要素は廃止され、`abbr`要素に一本化されました。頭字語についても`abbr`要素で表現してください。
<!-- /互換性メモ -->

<!-- 内容モデル -->
`abbr`要素の内容モデルは"Phrasing"です。`abbr`自身を入れ子にすることも可能です (そういう必要があるかは別として)。
<!-- /内容モデル -->

<!-- a11y note -->
`abbr`要素にデフォルトのARIAロールはありません。`title`属性が指定されている場合、スクリーンリーダーが`title`属性の値を読み上げることが期待できます。
<!-- /a11y note -->


## ルビ関連要素

ルビ関連要素は複雑であり、仕様の移り変わりも激しいことから、本書では概要の説明に留めます。

`ruby`、`rt`要素はルビ注釈を付けるための要素です。ルビをつける範囲全体を`ruby`要素としてマークアップし、ルビとなる文字を`rt`で表します。たとえば以下のようになります。

```html
<ruby>漢<rt>かん</rt>字<rt>じ</rt></ruby>
```

![図: ルビがふられているところ]()

ただし、`ruby`要素を理解しないブラウザや支援技術は、これを以下のように表示 (読み上げ) してしまうかもしれません。

```plaintext
漢かん字じ
```

これでは意味が通じなくなりますので、`ruby`を理解しないブラウザーとの互換性のために、`rp`要素が用意されています。`rp`要素の内容は、`ruby`要素を理解するブラウザーには無視されます。

```html
<ruby>漢<rp>（</rp><rt>かん</rt><rp>）</rp>字<rp>（</rp><rt>じ</rt><rp>）</rp></ruby>
```

これは、`ruby`要素を理解しないブラウザーでは以下のように表示されます。

```plaintext
漢（かん）字（じ）
```

### コラム: ルビ関連要素の仕様の移り変わり
2021年時点でHTML標準では`rb`要素および`rtc`要素はdeprecated（旧式の機能）と記載されており、一方W3C HTML 5.2では正式な要素として定義されていました。これらの要素に関してはHTML標準にも取り込まれるよう、継続して議論が行われています。


## `data`要素

`data`要素を使うと、要素の内容に対して、マシンリーダブルなデータを提供することができます。データは`value`属性で指定します。次の例は、書名に対してISBNコードのデータを結びつけています。

```html
<data value="978-4-86246-460-6">実践！ユニティちゃん トゥーンシェーダー2.0 スーパー使いこなし術</data>
```
<!--https://www.borndigital.co.jp/book/15564.html-->

Microdataと組み合わせて、コンテンツにメタデータを付与することもできます。以下の例では、製品名に製品のIDを結び付けています。

```html
<h1 itemscope>
 <data itemprop="product-id" value="9678AOU879">The Instigator 2000</data>
</h1>
```
<!-- 出典: https://html.spec.whatwg.org/multipage/microdata.html#the-basic-syntax -->

人間に対して提示したいテキストがマシンリーダブルでない場合に、`data`要素を使ってマシンリーダブルな値を提供することができます。

```html
<data value="20000">弐萬圓</data>
```

なお、データが日付や時刻の場合は、`data`要素ではなく専用の`time`要素を利用します。

## `time`要素

`time`要素は、日付や時刻などの値をマシンリーダブルな形式で表現します。
マシンリーダブルなデータは`datetime`属性で指定します。`datetime`属性は必須ではなく、指定がない場合は、要素の内容となっているテキストがマシンリーダブルなデータであるとみなされます。

たとえば、2017年1月23日という日付は次のようにマークアップできます。

```html
<!--日付-->
<time>2017-01-23</time>
<time datetime="2017-01-23">2017年1月23日</time>
```

<!-- 内容モデル -->
`time`要素の内容モデルは`datetime`属性の有無によって異なります。`datetime`属性がある場合の内容モデルは"Phrasing"であり、Phrasingに属する他の要素を子要素にすることができます。

`datetime`属性がない場合、`time`要素の内容は日付時刻を表現するテキストでなければならず、他の要素を入れることはできません。
<!-- /内容モデル -->

`time`要素で扱うことができるデータの種類には様々なものがあり、それそれについて形式が決められています。以下に代表的なものを取り上げます。正確なルールとパターンは、仕様を参照してください。

```html
<time>2017-01</time><!-- 2017年1月 -->
<time>01-23</time><!-- ある年の1月23日 -->
<time>14:56</time><!-- 14時56分 -->
<time>2017-08-29T01:23:45</time><!--日付と時刻-->
<time>-0600</time><!-- タイムゾーンオフセット -->
<time>0789</time><!-- 西暦789年 -->
```

形式が適切でない場合はエラーになります。上記の最後の例は西暦789年を表していますが、以下のように書くことはできません。

<!--正しくない例-->
```html
<time>789</time><!-- 西暦789年のつもりだが…… -->
```

このように誤りやすいパターンもあるため、Nu Html Checkerなどのチェックツールを使って、`time`要素の書式が正しいかどうか確認すると良いでしょう。

## `code`要素

`code`要素は、コンピューターコードを表します。プログラムのソースコードやファイル名など、機械が読み取るコードを表現するのに利用します。HTML仕様では、HTMLの要素名が`code`要素でマークアップされています。

```html
<p><code>code</code>要素は、コンピューターコードを表します。</p>
```

`pre`要素とあわせて、複数行にわたるコードを表すこともできます。

<!--複数行の適当なスクリプト-->
```html
<pre><code>
(() => {
    const target = document.getElementById('target');
    if(!target) return;
    target.textContent = 'Hello, World';
})();
</code></pre>
```

<!-- 以下、内容モデルとa11y noteがテンプレ化するがどうするか -->
<!-- 内容モデル -->
`code`要素の内容モデルは"Phrasing"です。`code`要素の中に他の要素を入れることはあまりないと思いますが、Phrasingに属する要素を入れることができます。
<!-- /内容モデル -->

<!-- a11y note -->
`code`要素にデフォルトのARIAロールはありません。スクリーンリーダーが特別な読み上げをしないことに注意しましょう。
<!-- /a11y note -->

## `var`要素

`var`要素は、数式やプログラムコードにおける変数を表します。

```html
<p><var>n</var>, <var>m</var>はそれぞれ任意の自然数とします。</p>
```

<!-- 内容モデル -->
`var`要素の内容モデルは"Phrasing"です。変数名の一部を修飾したり、`sub`要素や`sup`要素を使用することもできます。

```html
<p>2つの点の座標をそれぞれ (<var>x<sub>1</sub></var>, <var>y<sub>1</sub></var>)、(<var>x<sub>2</sub></var>, <var>y<sub>2</sub></var>) とします。</p>
```

本書では扱いませんが、本格的に数式を扱いたい場合は、MathMLと呼ばれるマークアップ言語を用いて表現することもできます。
<!-- /内容モデル -->

<!-- a11y note -->
`code`要素にデフォルトのARIAロールはありません。スクリーンリーダーが特別な読み上げをしないことに注意しましょう。
<!-- /a11y note -->

## `samp`要素

`samp`要素は、何かのサンプルや、コンピュータープログラムの出力結果などを表します。

<!--とりあえずWindowsのエラーメッセージを-->
```html
<p>パソコンで<samp>ディスクがいっぱいです。</samp>というエラーメッセージが出ました。
```

<!-- 以下、内容モデルとa11y noteがテンプレ化するがどうするか -->
<!-- 内容モデル -->
`samp`要素の内容モデルは"Phrasing"です。`kbd`要素や`var`要素などと組み合わせて使うこともできます。
<!-- /内容モデル -->

<!-- a11y note -->
`samp`要素にデフォルトのARIAロールはありません。スクリーンリーダーが特別な読み上げをしないことに注意しましょう。
<!-- /a11y note -->

## `kbd`要素

`kbd`要素はユーザーの入力を表します。入力は、典型的にはキーボード入力を指しますが、音声や他のデバイスによる入力でも構いません。以下の例では、ユーザーが実際にキーボードで入力する部分を`kbd`要素としてマークアップしています。

```html
<p>コピーのショートカットキーは、Windowsでは<kbd>Ctrl+C</kbd>、MacOSでは<kbd>command+C</kbd>です。
```

<!-- 内容モデル -->
`kbd`要素の内容モデルは"Phrasing"です。`kbd`要素を入れ子にすることも可能で、修飾キーを使った入力などを`kbd`の入れ子で表現することもできます。

```html
<kbd><kbd>Ctrl</kbd>+<kbd>C</kbd></kbd>
```

とはいえ、このように細かくマークアップすることが必須というわけではありません。複雑なスタイルを適用しないのであれば、先に挙げた例のように一括りにするだけで十分です。
<!-- /内容モデル -->

<!-- a11y note -->
`kbd`要素にデフォルトのARIAロールはありません。スクリーンリーダーが特別な読み上げをしないことに注意しましょう。
<!-- /a11y note -->

## `sup`および`sub`要素

`sup`要素は上付き文字 (superscript) を、`sub`要素は下付き文字 (subscript) を表します。

```html
<p>二酸化炭素はCO<sub>2<sub>と書き表せます。
<p>2<sup>8</sup>は256です。
```

これらの要素は、上付き・下付きになることに意味のある文字に対して使います。装飾目的などで、単に文字をずらして見せるためのものではありません。

<!-- 内容モデル -->
`sup`要素、`sub`要素の内容モデルは"Phrasing"です。`sub`要素や`sup`要素を入れ子にすることもできます (読みやすいかどうかはともかく)。
<!-- /内容モデル -->

<!-- a11y note -->
`sup`要素、`sub`要素にデフォルトのARIAロールはありません。スクリーンリーダーは特別な読み上げをしないため、文字が上付き・下付きであることは伝わらない可能性があることに注意しましょう。
<!-- /a11y note -->


## `i`要素

`i`要素は、典型的にイタリック体（斜体）で表されるような、通常のテキストとは異なる部分を表します。

古いHTMLではイタリック体のための要素として定義されていました。そのため、多くのブラウザのデフォルトスタイルでは斜体で表現されますが、スタイルは変更できるため、必ず斜体になるとは限りません。斜体を表現するための要素と考えるべきではありません。

日本語における伝統的な組版では、そもそもイタリック体で文字を表現することがないため、`i`要素でマークアップするべきテキストを想定するのは難しいでしょう。無理に使わず、他に適切な要素がないかどうかを検討すべきです。例えば、強調ならば`em`要素を使うことができます。

<!-- 内容モデル -->
`i`要素の内容モデルは"Phrasing"です。`i`要素を入れ子にすることもいちおう可能です。
<!-- /内容モデル -->

<!-- a11y note -->
`i`要素にデフォルトのARIAロールはありません。スクリーンリーダーは特別な読み上げをしないため、`i`要素が使われていることは伝わらない可能性があります。
<!-- /a11y note -->

<!-- コラム -->
一部、アイコンフォントを使用する際にこの要素が使われることがあり、iconの“i”と理解されていることがあるようですが、HTML仕様では認められていません。そもそもの話として、アイコンフォントそのものが特にウェブアクセシビリティの観点から推奨されるものではありません。この目的のためには`span`要素を使用するのが適切です。

```
<!-- 不適切なアイコンフォント -->
<i class="fas fa-address-book"></i>
```
<!-- /コラム -->

## `b`要素

`b`要素は、特に重要ではないが、注目すべきテキストの範囲を表します。文中のキーワードや記事のリード文など、慣習的に太字にされるようなものを表現することができます。

```html
<h3>山登りの魅力について</h3>
<p><b>そこに山があるから</b></p>
<p>山ならではの四季折々の景色、街の喧騒を離れた自然、登山仲間との交流などなど、いろいろな魅力について記します。</p>
```

古いHTMLでは太字を表現する要素として定義されていました。そのため、多くのブラウザのデフォルトスタイルでは太字で表現されますが、スタイルは変更できるため、必ず太字になるとは限りません。太字を表現するための要素と考えるべきではありません。

あるテキストを太字にしたいような場合、ほとんどのケースでは`b`要素よりも適切な要素があるはずです。重要性を表すなら`strong`要素を、強調を表すなら`em`要素を使うべきです。文中のキーワードも`mark`要素で表現できることが多いでしょう。`b`要素を使うのは、他の適切な要素がない場合の最後の手段です。

<!-- 内容モデル -->
`b`要素の内容モデルは"Phrasing"です。`b`要素を入れ子にすることもいちおう可能です。
<!-- /内容モデル -->

<!-- a11y note -->
`b`要素にデフォルトのARIAロールはありません。スクリーンリーダーは特別な読み上げをしないため、`b`要素が使われていることは伝わらない可能性があります。
<!-- /a11y note -->

## `u`要素

`u`要素は、綴りの誤ったテキストやなど、一般的に下線つきで表現されるようなものを表します。

古いHTMLでは単に下線を引く要素として定義されていました。そのため、多くのブラウザのデフォルトスタイルでは下線つきで表現されますが、スタイルは変更できるため、必ず下線がつくとは限りません。下線を表現するための要素と考えるべきではありません。


HTML仕様では、中国語において固有名詞を区別するために下線が使われることがあると述べられています。[^1]日本語では、この要素を使うべき局面は少ないでしょう。多くの場合は、`em`要素、`strong`要素、`mark`要素といった他の要素を使うべきです。

[^1]: https://en.wikipedia.org/wiki/Proper_name_mark

<!-- 内容モデル -->
`u`要素の内容モデルは"Phrasing"です。`u`要素を入れ子にすることもいちおう可能です。
<!-- /内容モデル -->

<!-- a11y note -->
`u`要素にデフォルトのARIAロールはありません。スクリーンリーダーは特別な読み上げをしないため、`u`要素が使われていることは伝わらない可能性があります。
<!-- /a11y note -->


## `mark`要素

`mark`要素は、参照者によるテキストのハイライトを表します。例えば、引用文の一部を引用者が強調するケースや、検索結果ページ上で検索した語句をハイライトするケースなどに使います。元の文脈では特に強調されていたわけではない部分を、参照側の都合でハイライトするための要素です。いわば、文章中に興味のある箇所について、読者が蛍光ペンでマークするようなものです。

```html
<p>mark要素のHTML仕様訳によれば、この要素は次のように定義されます。</p>
<blockquote>
<p>mark要素は、別のコンテキストにおいて関連性のために、<mark>参照目的でマークまたは強調表示される</mark>ある文書内の一連のテキストを表す。引用文または文から参照されるテキストのブロック内で使用される場合、ブロックが元々書かれた際に、元々存在しないが、<mark>オリジナルの著者によって重要だと考えられていないかもしれない</mark>だろう、<mark>テキストの一部に読者の注意を喚起する</mark>ために追加されたハイライトを示す。</p>
</blockquote>
<p>※mark要素でのマークアップ部分は引用者による強調です。</p>
```

元の文の文意としての強調であれば`em`要素などを使うべきです。また、スペルミスの指摘などであれば`u`要素を使っても良いでしょう。

<!-- 内容モデル -->
`mark`要素の内容モデルは"Phrasing"です。`em`などを含むテキストをまるごと`mark`要素でマークアップすることもできます。
<!-- /内容モデル -->

<!-- a11y note -->
`mark`要素にデフォルトのARIAロールはありません。スクリーンリーダーは特別な読み上げをしないため、`mark`要素が使われていることは伝わらない可能性があります。
<!-- /a11y note -->

## `bdi`要素と`bdo`要素
<!-- 
そもそもややこしい書字方向の話を説明しないと理解できないのでは。
参考: https://ja.wikipedia.org/wiki/%E5%8F%8C%E6%96%B9%E5%90%91%E3%83%86%E3%82%AD%E3%82%B9%E3%83%88
-->

`bdi`要素を使うと、書字方向が異なる可能性のあるテキストの範囲を明示できます。

日本語や英語のテキストは通常、左から右に向かって書かれますが、言語によってはそうでないものもあり、たとえばアラビア語は右から左に向かって書かれます。

HTML文書では通常、論理的な順に文字を記述しておけばよく、ブラウザ側が適切に書字方向を切り替えて表示します。以下では仮にABCDE... が右から左に読む文字だったとします。HTMLのデータ上は、以下のように先頭から順にデータが並んでいます。

```html
<p>ABCDE</p>
```

ABCDEの部分は右から左に書かれる言語ですから、ブラウザで表示すると以下のようになります。これで読者はABCDEの部分を正しく読むことができます。

```plaintext
EDCBA
```

問題はこれらが混在する場合です。たとえば、日本語の文章の中にアラビア語の文章を引用した場合、全体は左から右に向かって読みますが、引用されたアラビア語の箇所は右から左に向かって読むことになります。ABCDEで示すと、以下のようになります。

<!-- いい感じの図が欲しいがどうするか -->

```html
<p>あいうえお ABCDE かきくけこ</p>
```

これは以下のように表示されます。

```plaintext
あいうえお EDCBA かきくけこ</p>
```

これは一見自明なように思えますが、文字の中にはさまざまな言語で使われるものがあり、文字だけではどの言語に属しているのかわからないことがあります。アラビア数字 (算用数字) や算術記号はその一例です。以下の例では、英語の文中に、アラビア語のユーザ名と日付が出現しています。

```html
<p>User <b>إيان</b> : 2012/12/26</p>
```

この場合、`:` 以降の記号と数字がアラビア語の一部であるのか、英語の一部であるのか判然としません。ブラウザは数字をアラビア語と解釈して右から左に向かって表示する可能性があります。

次の例では、アラビア語の範囲を明示的に`bdi`要素でマークアップすることにより、ブラウザに対して明確に異なる書字方向の範囲を伝えます。

```html
<p>User <bdi>إيان</bdi> : 2012/12/26</p>
```

このようにすると、異なる書字方向の可能性があるのは`bdi`要素の内容だけであり、その外にある記号と数字の部分は英語の書字方向であることがブラウザに伝わります。

`bdo`要素は、テキストの書字方向規則を明示的に上書きします。HTML文書では通常、論理的な順に文字を記述しますが、もともと表示順に文字が並べ替えられたデータになっているような場合があります。この場合、通常の書字方向アルゴリズムを適用すると文字が逆転してしまいますが、`bdo`要素を使うと書字方向を強制することができます。

`bdo`要素を使う場合、`dir`属性が必須であり、左から右への上書きを指定する`ltr`か、右から左への上書きを指定する`rtl`のいずれかを指定します。

```html
User <bdo dir="rtl">إيان</bdo> : 2012/12/26
```

`bdi`要素と`bdo`要素のどちらを使うのかよいのかなど、より深い書字方向の設定については、W3C i18n文書[^2]を参照ください。

[^2]: Inline markup and bidirectional text in HTML https://www.w3.org/International/articles/inline-bidi-markup/


<!-- 内容モデル -->
`bdi`要素と`bdo`要素の内容モデルは"Phrasing"です。マークアップを含むテキストをまるごと`bdi`要素でマークアップすることもできます。
<!-- /内容モデル -->

<!-- a11y note -->
`bdi`要素と`bdo`要素にデフォルトのARIAロールはありません。`bdo`要素を利用して書字方向を強制した場合でも、スクリーンリーダーではソースコード上の順で読まれてしまう可能性があることに注意してください。
<!-- /a11y note -->

## `span`要素

`span`要素は、それ自身は何の意味も持たない、汎用のコンテナです。`div`要素がまとまったフレーズなどのために用意されるのに対し、`span`要素は文の一部のフレーズなどに使用します。例えば`class`や`lang`、`dir`などのグローバル属性と一緒に使用する場合に役立ちます。

たいていの場合、他の要素がより適切なことがあります。より適切な要素がほかにないか検討してみてください。
<!--検討するためのフローチャート？のようなものがあるとよいのかもしれません。-->

次の例は、コンピューターコードを色付けする（シンタックスハイライト）ために、`span`要素と`class`属性を使用している例です。

<!--はてなダイアリー風HTML断片-->
```html
<pre class="syntax-highlight"><code>
<span class="synComment">&lt;!doctype html&gt;</span>
<span class="synIdentifier">&lt;</span><span class="synStatement">html</span><span class="synIdentifier"> </span><span class="synType">lang</span><span class="synIdentifier">=</span><span class="synConstant">&quot;ja&quot;</span><span class="synIdentifier">&gt;</span>
</code>
</pre>
```

<!-- 内容モデル -->
`span`要素の内容モデルは"Phrasing"です。マークアップを含むテキスト全体を`span`要素でマークアップすることができます。`span`要素を入れ子にすることも可能です。
<!-- /内容モデル -->

<!-- a11y note -->
`span`要素にデフォルトのARIAロールはありません。`span`要素を使って要素の見た目を変更しても、スクリーンリーダーでは特別な読み上げがなされないことに注意してください。

特に、`span`要素に`onclick`属性などをつけてボタンのような挙動にした場合、スクリーンリーダーではボタン扱いされませんし、キーボード操作もできない場合があります。
<!-- /a11y note -->

## `br`要素

`br`要素は改行を表します。これは単なる改行であり、意味的な区切りではありません。意味的には一連のものである一方で、改行によって行を分割することが有効であるような例としては、住所が挙げられます。

```html
<p>
〒102-0074<br>
東京都千代田区<br>
九段南一丁目5番5号<br>
九段サウスサイドスクエア（旧 Daiwa九段ビル）
</p> 
```

このほか、詩などの改行を表現するのにも使うことができます。


多くの場合、`br`要素は濫用される傾向にあります。意味的に区切られるような場合には、`br`要素で区切るのではなく、他のマークアップを利用するべきです。たとえば、段落の内容のトピックが変わるのであれば、前後の段落をそれぞれ`p`要素としてマークアップすることが適切であり、`br`要素で区切ることは不適切と言えます。

<!-- LSより濫用の例 -->
```html
<!-- 濫用されている例 -->
<p><a ...>34件のコメント</a><br>
<a ...>コメントを追加する</a></p>

<p><label>名前: <input name="name"></label><br>
<label>住所: <input name="address"></label></p>

<!-- 適切な例 -->
<p><a ...>34件のコメント</a></p>
<p><a ...>コメントを追加する</a></p>

<p><label>名前: <input name="name"></label></p>
<p><label>住所: <input name="address"></label></p>
```

また、余白を設けるために`br`要素を連続で複数用いてはなりません。そのような見た目の制御はCSSを用います。

```html
<!-- 悪い例 -->
<p>段落の下に余白を作る<br>
<br>
<br>
</p>
```

<!-- 内容モデル -->
`br`要素は内容を持ちません。
<!-- /内容モデル -->

<!-- a11y note -->
`br`要素にデフォルトのARIAロールはありません。スクリーンリーダーは特別な読みあげをしませんが、`br`要素は単語の区切りとして扱われることがあることに注意してください。たとえば、以下のように`br`要素を利用すると、文字を縦書きのように見せかけることができるかもしれません。

```html
<!-- 悪い例 -->
<p>
縦<br>
書<br>
き<br>
</p>
```

しかし、スクリーンリーダーはこれは一つの単語としては読まず、一文字ずつ「たて」「しょ」「き」と読んでしまう場合があります。このように、文字の配置を整えるために`br`要素を使うことは避けるべきです。
<!-- /a11y note -->

## `wbr`要素

`wbr`要素は、その位置で改行が可能であることを表します。`br`要素と異なり、必ず改行されるわけではありません。

例えば、長いURLが存在するとき、途中に`wbr`要素を入れておくと、必要に応じて`wbr`要素の位置で改行されることが期待できます。

<!--MDNからコード例をお借り。より良い例があれば苦心。 https://developer.mozilla.org/ja/docs/Web/HTML/Element/wbr -->
```html
<p>http://this<wbr>.is<wbr>.a<wbr>.really<wbr>.long<wbr>.example<wbr>.com/With<wbr>/deeper<wbr>/level<wbr>/pages<wbr>/deeper<wbr>/level<wbr>/pages<wbr>/deeper<wbr>/level<wbr>/pages<wbr>/deeper<wbr>/level<wbr>/pages<wbr>/deeper<wbr>/level<wbr>/pages
</p>
```

<!-- 内容モデル -->
`wbr`要素は内容を持ちません。
<!-- /内容モデル -->

<!-- a11y note -->
`wbr`要素にデフォルトのARIAロールはありません。スクリーンリーダーは特別な読みあげをしませんが、`wbr`要素は単語の区切りとして扱われることがあることに注意してください。<!--本当か? 要実機確認 -->
<!-- /a11y note -->
