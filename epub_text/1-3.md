# HTML標準化の歴史

Chapter1-2では、HTML仕様がどういったものかを大まかに説明しました。このChapterでは歴史を振り返りながら、HTML仕様が何を目指し、どのように発展してきたのかを説明します。

## 仕様と標準

HTMLの仕様はウェブで公開され、誰でも参照できるようになっています[^1]。誰もが自由にHTML仕様を読み、仕様に沿ってHTMLを書いたり、ブラウザーを実装したりできます。

[^1]: https://html.spec.whatwg.org/multipage/

HTMLに限らず、技術仕様の多くは広く公開されています。その目的の1つは、仕様を広め、多くの人に利用されるようにすることです。仕様が普及し、大多数の人に利用されるようになると、それは「標準」(standard)と呼ばれるようになります。標準にすることを「標準化」(standardization)と言います。

仕様の標準化が不十分な場合、ベンダーが各自で仕様を定義することになります。HTML仕様であれば、ブラウザーベンダーがそれぞれ独自にHTML仕様を定義することになり、あるHTML文書が特定のブラウザーでしか表示できないことになります。実際、過去にはそのようなことが起こり、対象ブラウザーごとに異なるHTMLを用意しなければならないような状況もありました。

仕様が標準化されれば、その仕様に従ったHTMLは、どのブラウザーでも問題なく閲覧できることになります。このように、1つの形式のデータを共通して扱える性質を「相互運用性」(interoperability) と言います。

## 標準化団体

仕様が標準化されたと言える1つの目安は、「標準化団体」(standardizing body)によって正式に認められることです。ここでは、ウェブやHTML仕様に関連する標準化団体をいくつか紹介します。

### 国際標準 - ISO/IEC規格

国際標準化機構 (International Organization for Standardization, ISO)は、世界的にもっとも有名な標準化団体のひとつで、ISO規格と呼ばれるさまざまな国際規格を策定しています。

電気通信分野においては、「国際電気標準会議」(International Electrotechnical Commission, IEC)という標準化団体が有名です。とくに情報分野についてはISOと共同で標準化を行い、共同規格はISO/IECと呼ばれます。

ISO規格の規格番号は"ISO"で始まり、その後ろに番号と発行年がつきます。ひとつの規格が複数のパートにわかれる場合は番号に枝番を付け、たとえば"ISO 8601-1:2019"のようになります。また、IECとの共同規格の場合、"ISO"の部分が"ISO/IEC"となり、"ISO/IEC 10646:2017"のようになります。

規格は更新されると、発行年の部分が更新されます。発行年が重要でない場合は、単純に発行年を省略して呼ぶこともあります。

ウェブに関連する規格としては、コンピュータで扱う文字に関する規格 (ISO/IEC 10646など)、日付の表記 (ISO 8601) などがあります。HTMLのもとになった汎用マークアップ言語SGMLもISO規格になっています (ISO 8879)。

### 日本の標準 - 日本産業規格(JIS)

日本においては、「日本産業規格」[^2](Japanese Industrial Standards, JIS)という標準があり、「JIS規格」とも呼ばれます。これは産業標準化法に基づいて日本産業標準調査会(JISC)が審議し、大臣が制定するものです。

[^2]: 以前は日本工業規格と呼ばれていましたが、2019年7月に工業標準化法が産業標準化法に改正され、規格の名称も日本産業規格に変わりました。

JIS規格の規格番号はISO規格のものと似ていますが、番号の前に部門を表す部門記号が入ります。情報処理分野は X で[^3]、たとえば"JIS X 8341-3:2016"のようになります。

[^3]: X の部門記号は1987年に追加されたもので、それ以前は電子機器及び電気機械の部門である C に分類されていました。たとえばJIS X 0201は、以前はJIS C 6220という規格番号でした。

JIS規格には、日本国内で独自に策定したものと、国際規格を日本に持ち込んだものがあります。対応する国際規格がある場合は、内容の同等性がIDT（一致）、MOD（修正）、NEQ（同等でない）のいずれかに分類されます。IDTの場合は国際規格とJIS規格の技術的な内容が完全に一致しているもので、基本的には国際規格をそのまま日本語に訳したものと考えて差し支えありません[^4]。原則として、対応する国際規格が存在する場合にはIDTととしてJISが策定されることになっています。<!-- JIS Q 27002のように、IDTのはずなのに誤訳だらけで事実上内容が異なってしまっている場合も……? -->

[^4]: ただし、規定の一部とはならない編集が行われていることがあります。具体的には、訳注や対応する国際規格にはないJIS独自の附属書といった参考情報が追加される場合があります。JIS独自の附属書は、「附属書JA」のようにアルファベット「J」を付けて表します。

ウェブやコンピューターに関連するISO規格はJIS規格となっていることがあり、その多くはIDTとなっています。つまり、ISO規格の日本語訳をJIS規格として読むことができます。

### インターネット技術の標準 - IETFとRFC

IETF (Internet Engineering Task Force) は、インターネット技術の標準化を行うための組織です。

IETFが発行する規格文書は「RFC」(Request For Comments)と呼ばれます。RFCの多くはインターネット関連の技術規格として標準化を目指すものですが、中には単なる参考情報や、エイプリルフールのジョークなどもあります。

RFCの番号は、単に “RFC + 数字”の形式で、発行年は付きません。また、一度発行されると内容は変わらず、内容を更新する場合は新たに別のRFCを発行するのが大きな特徴です。たとえば、1998年に発行されたRFC2396は2005年に更新され、RFC3986となりました。

ウェブ関連の規格としては、HTTPやURLの仕様がRFCになっているほか、かつてはHTMLの仕様もRFCとなっていました。SMTP、FTP、TLSといった通信プロトコルのほか、電子メール、CSV、JSONの書式など、データフォーマットの規格も多数あります。

#### RFC のステータス

RFCは通常、Internet-Draftと呼ばれるドラフト文書を経てRFCとなります。RFCの標準化過程には以下の3種類があります。

- Internet-Draft (I-D): まだRFCになっておらず、番号が付与されていない草案の文書。中にはRFCになることを意図しないものもある
- Proposed Standard (PS): 番号が付与され、標準化過程（Standards Track）にあるもの。標準になる前の段階だが、コミュニティによる議論とレビューを経て安定したものであり、インターネットで使用しても問題ない
- Internet Standard (STD): 成熟し、インターネット標準となったもの。相互運用可能な実装が複数存在し、有益と認められている。標準化過程の最終段階

RFC文書には標準化過程にないものもあり、それらは以下の4種類に分類されます。

- Informational (Info): 参考情報。あくまで参考であり、標準化を意図しないもの。エイプリルフールのジョークRFCもここに含まれる
- Historical (Hist): 歴史的な資料。かつては標準であったが、別の仕様によって更新され、役割を終えたものがここに分類される。参考資料であり、使用は推奨されない
- Experimental (Exp): 実験的なもの。研究成果や実験結果を共有することを意図した資料であり、研究目的以外に使用すべきではない
- Best Current Practice (BCP): ベストプラクティス。「現時点で知られている最良の方法」という意味。技術規格そのものではなく、推奨される運用の⽅策や⼿続きに関連する内容

このうち、STDとBCPは、STDシリーズ、BCPシリーズとして、RFC番号とは別に永続的な番号が与えられます。たとえば、IETF言語タグを定義するBCP 47は、当初はRFC 1766を指していましたが、2021年時点ではRFC 5646とRFC 4647を指しています。

RFCになったHTMLの仕様としてRFC 1886やRFC 2070などがありますが、これらは現在では役割を終えており、Histに分類されています。このように、別の仕様で内容が更新され、RFCの内容が古くなることがありますが、RFCの本文は不変であり、更新情報も記載されません。RFCの更新や破棄の情報は、"RFC index"という文書で別途提供されています。また、親切なことに、<https://datatracker.ietf.org/> で提供されているHTML形式のRFCでは、更新情報を含むヘッダーが冒頭に追加されています。

#### コラム: RFCのなりたち

RFCは、もともとはRequest For Commentsの略で、“意見を求む”といった意味でした。しかし、インターネットに関連する技術標準を示す文書の名称が、なぜ意見を求めているのでしょうか。

これは、インターネットの生い立ちと時代背景によるものです。インターネットの前身は、米国国防総省国防高等研究計画局（DARPA, Defense Advanced Research Project Agency）が開発を進めたAPRAネットというものでした。

国防総省にある部局の性質上、国防上の観点から情報は“非公開”が前提とされていました。しかし、ネットワーク技術は公開が前提で意見を求める必要性があると考えたAPRAネットの関係者は、DARPAと交渉し、非公式に意見を募集するという体裁で技術公開の了承をとりつけました。

こうして最初のRFCであるRFC 1が1969年に発行されました。なお、1969年は東西冷戦真っ只中にアポロ11号が史上初の月面着陸を果たした年でもありました。そのような時代背景の中で、インターネットの前身となる研究開発を国防総省から資金を得ながらも、オープンな形で行うことで今日のインターネットを作りあげてきたのは、当時の関係者の努力の賜物と言えるでしょう。
<!--
参考URL
https://www.geekpage.jp/blog/?id=2016-12-22-1
https://internet.watch.impress.co.jp/docs/column/ietf2009/324722.html
-->

### ウェブ技術の標準 - W3Cと勧告

バーナーズ＝リーがディレクターとなり、ウェブ技術に関する標準化を推進する団体として1994年に発足したのがW3C (World Wide Web Consortium) です。

W3Cが発行する標準は「勧告」(recommendation)と呼ばれます。ウェブ関連の仕様の多くがW3Cによるものであり、HTML以外にもXML、CSS、SVG、PNGなど、ウェブで利用するデータ形式を数多く規定しています。また、ウェブアクセシビリティに関するガイドラインであるWCAG (Web Content Accessibility Guidelines) もW3Cが作成しています。

#### 勧告の標準化過程

W3C勧告の標準化過程は「W3Cプロセス文書」(W3C Process Document)[^5]で規定されており「勧告トラック」(W3C Recommendation Track)と呼ばれます。現在、W3C勧告トラックには大きく4つの段階があります。

[^5]: <https://www.w3.org/2021/Process-20211102/>

- Working Draft (WD): 作業草案と訳されるが、そのままワーキングドラフトと呼ばれることが多い。仕様の設計段階であり、ワーキンググループでの議論によっては、大きく内容が変更されることがある<!-- https://www.w3.org/2021/Process-20211102/#first-wd -->
- Candidate Recommendation (CR): 勧告候補。WDが数回の改訂を経て、比較的安定してきたた段階。この段階になると、実装の呼びかけと仕様のテストが行われる。CRを終了するには、2つの独立した実装が必要となる<!--https://www.w3.org/2021/Process-20211102/#transition-cr-->
- Proposed Recommendation (PR): 勧告案。CRが終了し、技術的な内容のついての議論が終わっており、諮問委員会による最終レビューを受けている状態。最低28日間のレビュー期間を経て、問題がなければ勧告になる。問題があった場合はCRやWDに戻される<!--https://www.w3.org/2021/Process-20211102/#transition-pr-->
- Recommendation (REC): 勧告。仕様の最終段階で、ディレクターに承認された、安定した仕様

W3Cの仕様にはほかにもステータスが存在します。

- Superseded Recommendation (SPSD): 後続となる別の勧告文書が存在することを示すステータス。事実上の廃止を意味する
- Working Group Note (NOTE): W3Cノートとも呼ばれる。有益な参考情報、勧告を説明する付属文書など。以前のW3Cプロセス文書では勧告化を断念したものもこのステータスで示されていた
- Discontinued Draft: 2021年のプロセス文書で新設された、勧告化を断念した仕様のステータス
- Editor's Draft (ED): 編集者草案と訳されるが、そのままエディターズドラフトと呼ぶことが多い。WDやNOTEと異なり、ワーキンググループの合意を得たものではない。編集者によって適宜更新される文書

Editor's Draftは、かつては限られた人しか見ることができませんでしたが、後述のWHATWG Living Standardの影響を受け、今日では多くのW3Cワーキンググループで公開されています。

### 現在のHTML仕様 - WHATWGとLiving Standard

WHATWG (Web Hypertext Application Technology Working Group)は、現在のHTML仕様を策定している団体です。当初はHTMLの仕様を策定することを目的に、ブラウザーベンダー主導の仕様策定コミュニティとして2004年に発足しました。後にDOMやFetch、URLといったHTMLの周辺仕様の策定も手がけるようになりました。

WHATWGの仕様は単に"Standard"と呼ばれ、常に"Living Standard"と呼ばれるステータスになっています。IETFやW3Cと異なり、WHATWGの発行する仕様は、作業草案や勧告といった標準化過程のステータスを持ちません。仕様が公開された後も、その場で継続的に更新されます。仕様が知らぬ間に更新されている、ということも日常茶飯事です。[^6]

[^6]: WHATWGの仕様はGitHubで管理されているので、これを追うことで過去の変更点を調べることは可能です。<https://github.com/whatwg>

ウェブに関連するものとしては、最新のHTML仕様がWHATWGのものとなっています。そのほか、URLやDOMの仕様などを発行しています。

## HTML仕様の歴史

ここまで、ウェブ仕様に携わるさまざまな標準化団体を紹介してきました。HTML仕様は紆余曲折を経て、さまざまな団体によって発行されてきています。ここでは、HTMLの誕生から現在までの歴史を追いながら、HTML仕様がどのように発展してきたのかを見ていきます。

### HTML 1.0 - Internet-Draft文書

ウェブが初めてインターネット上で公開されたのは1991年のことです。バーナーズ＝リーによって、ウェブを構成するURL、HTTP、そしてHTMLの仕組みが作られました。

HTMLのルールは「SGML」(Standard Generalized Markup Language)という汎用マークアップ言語を参考にしていましたが、この時点では「文書型定義」(Document Type Definition, DTD) が存在しませんでした。文書型定義は、使える要素の名前や入れ子構造などのルールをあらかじめ定義したものです。

SGMLなどのマークアップ言語を読み取って解析することを「パース」(parse)と言い、解析するプログラムを「パーサー」(parser)と言います。SGMLの場合、パーサーはDTDのルールに従ってパースを行うため、DTDがなければパースできません。当初のHTMLにはDTDがなかったため、正当なSGMLとしてパースすることはできませんでした。

その後、メーリングリストなどでの議論を経て、HTML 1.0のInternet-Draft文書[^7]が1993年にまとまります。この時点でDTDが整備され、リンク、見出し、リスト、画像の埋め込みといった、現在のHTMLでも用いられる基本的な要素が揃いました。

[^7]: https://www.w3.org/MarkUp/draft-ietf-iiir-html-01.txt

### HTML 2.0 - RFC1866

その後、HTML仕様はIETFのもとで議論され、1995年にRFC 1886[^8]としてHTML 2.0の仕様が発行されます。これにより、技術仕様として所定の手続きを経た、正式なHTMLの仕様と呼べるものができました。

[^8]: https://tools.ietf.org/html/rfc1866

HTML 2.0では`form`要素なども加わり、より現在使われているHTMLの姿に近くなりました。ただし、この仕様は、厳密に言えば日本語の文字が使えないものでした。仕様上で日本語が使えるHTMLは、国際化が検討された1997年のRFC 2070[^9]を待たなければなりませんでした。

[^9]: <https://tools.ietf.org/html/rfc2070>

#### HTML 2.0のその後

HTML 2.0は一通りの要素を備えていましたが、重要な機能が欠けていました。文字の色を変えたり、レイアウトを調整するといった、文書の見た目の装飾ができなかったのです。その一方で、コンテンツ制作者の側からは、ウェブコンテンツの見た目を変えたいという強い要望がありました。

そこで当時のブラウザーベンダーは、HTML 2.0を拡張し、独自の要素や属性で見た目を整えられるようにしていったのです。文字の色や大きさを変更する`font`要素、文字をセンタリングしたり右寄せしたりする`align`属性、文字を点滅させる`blink`要素などが独自に実装されました。

この動きに複数のブラウザーベンダーが追随していきますが、その足並みは必ずしも揃いませんでした。たとえば、あるブラウザーは`blink`要素による点滅に対応していましたが、他のブラウザーは対応せず、そのかわりに`marquee`要素で文字を動かせるといった状況がありました。ブラウザーの種類によって、コンテンツの見た目や挙動が異なる状況になっていったのです。特定のブラウザーでなければ読めないコンテンツもあり、ウェブページには、そのブラウザーをダウンロードするためのバナーが貼られました。

このような状況がある中、IETFのワーキンググループではHTML 3.0の標準化作業が行われます。さまざまな新要素を意欲的に追加しようとしましたが、過去のHTMLと互換性がないという問題もあり、結局、この仕様はまとまりませんでした。

### HTML 3.2 - W3C勧告となった最初のHTML

その後、HTMLの仕様策定の議論の場は、IETFからW3Cへと移ります。HTML3.0とは大きく方針が変わり、過去のHTMLとの互換性や、ブラウザーの実装を尊重する形で仕様がまとめられました。この仕様はHTML 3.2として、1997年1月にW3C勧告となりました[^10]。

[^10]: https://www.w3.org/TR/2018/SPSD-html32-20180315/

HTML 3.2では、HTML 2.0の要素に加え、RFC1942の`table`要素が取り込まれたほか、ブラウザーベンダーによる独自拡張だった`font`要素や`align`属性など、文書の見た目を制御する機能が正式に仕様に取り込まれました。

なお、HTML 3.2も、HTML 2.0と同様に、正式には日本語の文字が扱えない仕様となっています。ほぼ同時期に完成したRFC2070の国際化の機能は、HTML 3.2には取り込まれませんでした。

また、ほぼ同時期である1996年12月には、「スタイルシート」(style sheet)の仕様であるCSS1[^11]もW3C勧告となっています。スタイルシートは文書の見た目を定義するもので、複数の要素の見た目を同時に制御できたり、HTML文書から見た目の情報を切り離せるなどのメリットがあります。

[^11]: Cascading Style Sheets, level 1 <https://www.w3.org/TR/REC-CSS1/>

しかしHTML 3.2は、正式にはスタイルシートを扱うことのできない仕様でした。スタイルシートを扱う`style`要素は予約語とされているだけで、定義はされていませんでした。

### HTML4 - W3C勧告として円熟した仕様

その後、1997年12月にW3Cの勧告となったのがHTML 4.0です[^12]。

[^12]: https://www.w3.org/TR/REC-html40-971218/

HTML4では、HTML 3.2で予約されているだけだった`style`要素や`script`要素があらためて定義され、正式にスタイルシートやJavaScriptが使えるようになりました。見た目はスタイルシートで制御することが推奨され、`font`要素や`align`属性などといった見た目を制御するHTMLの要素や属性は「非推奨」(deprecated)とされました。

HTML 4.0では、要素の定義自体を大きく"Strict"と"Transitional"の2つにわけ[^13]、前者では見た目に関する要素や属性が使えない厳密な枠組み、後者ではそれらが使える緩やかな枠組みとし、互換性を重視する場合には見た目の要素も使用できる形をとりました。

[^13]: もうひとつ、フレーム分割された文書を定義するためのframeset文書という定義も存在しました。

そして、この仕様で大きく取り上げられたのが「アクセシビリティ」(accessibility) です。フォーム部品にラベルをつけるための`label`要素が定義され、代替テキストを表す`img`要素の`alt`属性が必須となりました。また、WCAG (Web Content Accessibility Guidelines) が参照され、アクセシビリティ上の注意点にも言及するようになりました。アクセシビリティについてはChapter1-4で詳しく説明します。

その後、1999年に、マイナーな改訂版であるHTML 4.01[^14]が勧告となりました。これをもって、HTMLは成熟したSGMLアプリケーションとして成立し、いったんは円熟期を迎えました。

[^14]: https://www.w3.org/TR/html401/

### XHTML 1.0 と XHTML 1.1

HTML4の勧告の後、1998年には「XML」(extensible markup language) の仕様が勧告となります[^15]。XMLは、SGMLからいくつかの機能を取り去り、同時にマークアップのルールを厳密にすることで、プログラムから扱いやすくした汎用マークアップ言語です。

[^15]: https://www.w3.org/TR/xml/

先に触れたように、SGML文書をパースするには文書型定義が必要ですが、文書型定義を用意するのはハードルが高く、普及の妨げになっていました。これを簡素化し、文書型定義を不要としたのがXMLです。

XMLでは、字句的ルールがあらかじめ制限されています。たとえば、要素の終了タグは常に省略できないと決められているため、文書型定義の影響を受けません。これにより、文書型定義なしで字句解析ができるようになりました[^16]。

[^16]: 文書型定義を用意することで、語彙的ルールを定義することもできます。文書型定義がない場合は語彙的ルールは考慮されません。

XML 1.0の仕様が勧告になると、XMLブームとも言える状況が沸き起こり、さまざまなプログラムがXMLを扱うようになりました。その中で、HTMLもXMLで再構築しようという流れが出てきます。

こうして、XMLの仕様にのっとったHTMLの仕様として、XHTML 1.0が2000年に勧告となりました[^17]。新たな要素は追加されておらず、HTML 4をそのままXHTMLにしたものです。

その後、XMLのもつ拡張性という側面を生かし、XHTMLをモジュール化しようという試みがありました。こうして、2001年にXHTML 1.1が勧告となります[^18]。基本的な要素はHTML 4と変わりませんが、`ruby`モジュール[^19]が追加され、文字にルビをふることができるようになりました。

#### コラム: 幻の XHTML 2.0

XHTMLを使うことで、HTML4の要素をXMLの文法で書くことができるようになりました。しかし、既存の要素はほとんどそのままでした。

次世代の仕様として、これを大きく見直そうとしていたのがXHTML 2.0です。要素の分類や定義を根本から見直し、新しく定義しようと試みましたが、現在のウェブとの互換性がない仕様であったため、主にウェブブラウザーの開発者からは反発を生むことになりました。

仕様は結局まとまらず、2009年には仕様策定の打ち切りが決まりました。こうして、XHTML 2.0は幻の仕様となりました。

[^17]: https://www.w3.org/TR/xhtml1/

[^18]: https://www.w3.org/TR/xhtml11/

[^19]: Ruby Annotation <https://www.w3.org/TR/ruby/>

## 現在のHTML

HTML4の仕様は、文書をマークアップするのに十分な機能を持っていました。HTML4の仕様が勧告されて以降、XHTMLの試みがあり、ルビの機能が追加されたものの、HTMLの仕様内容そのものには大きな動きがありませんでした。

しかしこの間に、ウェブコンテンツの側には大きな変化の潮流がありました。ユーザーが単に文書を表示して読むだけでなく、ユーザーの操作に対してウェブコンテンツが動的に変化するようになったのです。

### Web Applications 1.0

ウェブアプリケーションと呼ばれるものは以前からありましたが、以前は、静的HTMLのフォームからデータを送信し、サーバー側で処理することが一般的でした。その後、ブラウザーの表現力の向上に伴い、動的に変化するコンテンツや、複雑なユーザーインターフェイスを実現できるようになりました。これらは、従来のものより豊かな表現であるという意味で、「リッチインターネットアプリケーション」(Rich Internet Application)と呼ばれました。単にリッチアプリケーションと呼ぶこともあります。

HTML4の仕様は、従来型のウェブアプリケーションを作るには十分と言えるものでしたが、リッチアプリケーションを表現するには不十分でした。そこで、FlashやActiveXといった、HTML以外の技術が用いられることになりました。

その一方で、HTMLの表現力を強化すべきだというニーズも強く、ブラウザーベンダーからは、HTMLをW3Cで再開発すべきという提案がなされました。しかし、この提案はW3Cでの投票により却下されてしまいます。

このような経緯から、2004年にMozilla、Apple、Operaという3つのブラウザーベンダーが中心となって、WHATWGコミュニティが発足しました。同年、Web Applications 1.0という名前のHTML仕様が発行されます。このHTML仕様は、HTML4の次のHTMLという意味で、俗に"HTML5"と呼ばれることになります。

#### SGMLからの脱却

これまでのHTML仕様は、SGMLの規格を満たすSGML応用系として整備されていました。字句的ルールもSGMLに従うことになっており、字句解析に必要となるDTDが用意されていました。

しかし、実際に書かれたHTML文書は、必ずしもSGMLのルールに沿っていませんでした。ルールに沿わないHTMLを扱うために、ブラウザー側も独自のルールを発展させました。その結果、現在のブラウザーの字句解析ルールは、HTML仕様で規定されたルールとは異なるものになっていたのです。

Web Applications 1.0は、SGMLのルールに従うことをやめることで、この不整合を大胆に解決しました。字句解析ルールをHTML仕様の中で独自に定義することとし、ブラウザーが実際に備えているルールを取り込んだのです。

このルールに従った記述を「HTML構文」(HTML syntax)と呼びます。現在のHTML文書のほとんどは、このHTML構文で書かれています。

その一方で、XMLの字句的ルールに沿って記述することも選択できるようにしました。これを「XML構文」(XML syntax)と呼びます。XML構文では、字句的ルールは完全にXMLの仕様に従い、HTML仕様は語彙的ルールだけを提供します。XML構文はXMLと完全な互換性があるため、XMLプロセッサーで処理できるというメリットがあります。

### W3C HTML5

当初、W3CはこのHTMLの策定に興味を示しませんでしたが、2006年にバーナーズ＝リーが自身のブログで、HTMLの策定作業をW3Cで行う意志があることを発表しました。その翌年、WHATWGと共同でW3CでのHTML5の策定作業が始まります。

しかし2012年に、仕様の内容を堅牢なものにして勧告を発行したいW3Cと、期限を区切らず仕様の更新をし続けたいWHATWGという両者の仕様の策定方針の違いにより決別し、別々の道を歩むことになります。

その後の2014年、W3Cは正式に"HTML5"（以下、HTML 5.0とします）と銘打ったHTML仕様を勧告として発行しました。[^20]実にHTML4から15年の時を経ての大改訂となりました。

[^20]: <https://www.w3.org/TR/2014/REC-html5-20141028/>

### 仕様の並立と迷走

その間にも、WHATWGによるHTML仕様の更新は順調に続けられ、活発に更新されていきました。W3Cは、WHATWGの仕様との差分を取り込んで、HTML5の仕様を改定しようとします。

しかし、WHATWGの仕様が随時更新されるのに対して、W3Cの仕様はステータスを安定させる必要があるために、その調整に多大な労力を費やすことになりました。2016年11月にはHTML 5.1が[^21]、2017年12月にHTML 5.2が[^22]それぞれW3C勧告になりましたが、WHATWGのHTML仕様との食い違いがあったり、文書内部で記述内容の矛盾が見られるといった問題が散見されました。

[^21]: <https://www.w3.org/TR/2016/REC-html51-20161101/>

[^22]: <https://www.w3.org/TR/2017/REC-html52-20171214/>

こうして、HTMLという1つの技術に対し、2つの異なるHTML仕様が並立することになりました。ブラウザーベンダーはW3CのHTML仕様を無視してWHATWGのHTML仕様を更新し続け、コンテンツ制作者はどちらの仕様を参照すればよいか混乱するという、誰にとっても望ましくない状況に陥いりました。

### 仕様の一本化

このような分裂状態の中で、水面下でW3CとWHATWGがHTML仕様を一本化できないかを模索し始めることになります。既にブラウザーベンダーがWHATWGを支持していたこともあり、WHATWGが主導権を握るようになっていました。

2018年3月、W3Cはこれまでに発行してきた古いHTML仕様のステータスをSuperseded Recommendationに変更しました。対象となったHTML仕様は、HTML 3.2、HTML4、すべてのXHTMLファミリー、そしてHTML 5.0にも及びました。結果として、W3Cの発行するHTML仕様として有効なものは、HTML 5.1とHTML 5.2に整理されていきます。

W3Cは、2018年10月に発行したレポート[^23]の中で、2つのHTML仕様が並立する状態がharmful（有害）であることを公式に言及しました。

[^23]: <https://www.w3.org/2018/10/w3c-highlights/>

そして2019年5月に、W3CとWHATWGの間に覚書が取り交わされました[^24]。この覚書では、両者のHTML仕様について以下のような取り決めをしました。

[^24]: “Memorandum of Understanding Between W3C and WHATWG”<https://www.w3.org/2019/04/WHATWG-W3C-MOU.html>

- HTML 5.2の後続として策定作業が行われていたHTML 5.3の作業を中止する
- WHATWG HTMLのReview Draftと呼ばれる文書について、W3Cの仕様のステータスを付与する
- Review DraftがW3C勧告のステータスに到達した時、HTML 5.1とHTML 5.2を廃止する
- <https://www.w3.org/TR/html/> をWHATWG HTMLにリダイレクトする

これにより、WHATWGのもとでHTML仕様が再び一本化されることになりました。そして、2021年1月に発行されたReview Draft[^25]はW3C Recommendationとして認定され、HTML 5.1とHTML 5.2はHTML 5.0と同様に廃止されました。W3Cが勧告したすべてのHTMLは廃止され、WHATWG HTMLが名実ともに唯一のHTML仕様となったのです。

[^25]: <https://html.spec.whatwg.org/review-drafts/2020-01/>

![HTMLの系譜](../img/1-5-01.png)

図 1-5-01 主要なHTMLの系譜
