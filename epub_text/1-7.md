---
title: "CHAPTER 1-07 技術情報との関わり方"
---

# <span class="number">07</span> 技術情報との関わり方

[CHAPTER 1](1-0.xhtml)では、HTMLとその周辺の技術仕様について紹介してきました。ここでは[CHAPTER 1](1-0.xhtml)全体のまとめとして、HTML仕様の読み方、技術仕様との関わり方について紹介します。

## HTML仕様を読む

ここまで紹介してきたように、HTML仕様は標準化され、技術文書として公開されています。現在有効なHTML仕様は、WHATWGが公開している*HTML Standard*[^1]です。

[^1]: HTML Standard\
<https://html.spec.whatwg.org/multipage/>

### 仕様のURLとバリエーション

CHAPTER1-3で触れたように、WHATWGの仕様は同じURLで常に更新され続けます。そのため、URLに日付やバージョン番号は含まれませんが、いくつかのバリエーションがあります。

URLにmultipageが含まれるものは、複数ページ版(Multipage Version)です。通常はこの版を参照するとよいでしょう。

URLからmultipage/を削除すると単一ページ版(One-Page Version)になります。HTML Standardは内容が膨大であるため、読み込みに長い時間がかかりますが、オフラインで参照するために保存したり、印刷したりするのに向いています。

また、コンテンツ制作者向けとして、ブラウザーベンダー向けの情報を省いた*Edition for Web Developers*[^2]というバージョンが存在します。

[^2]: HTML Standard, Edition for Web Developers\
<https://html.spec.whatwg.org/dev/>

### 仕様の言語と日本語版

ほとんどのインターネット関連の仕様と同様に、HTMLの仕様も英語で書かれています。ただし、HTML仕様の場合、有志による日本語訳が公開されており、これを読むこともできます[^3]。

[^3]: Transition of HTML Standard\
<https://github.com/whatwg/html/wiki/Translations>

*正式な仕様はあくまで英語版であり、日本語訳は参考に過ぎないことに注意してください。*正確なニュアンスを掴むためには、機械翻訳や辞書などを使いながら自力で読む必要があるでしょう。

筆者のおすすめは、まず日本語訳を読んでみて、意味がよくわからない箇所は原文に当たるという方法です。日本語では表現の難しい言葉や概念も、あらためて原文で読むと理解できる場合があります[^4]。

[^4]: 日本語で読んで意味がわからない箇所は、誤訳の可能性もあります。誤訳に気付いた際は、訳者にフィードバックを送り、翻訳の品質向上に貢献してもよいでしょう。

### HTML仕様の目次を利用する

仕様の冒頭には目次があります。目次から必要な箇所を探し、目的の章に当たるというのが基本的な使い方になるでしょう。

とはいえ、どの章に何が書かれているかわからないことも多いでしょう。よくありそうな用途と、その情報が2021年10月時点でどの章に書かれているかを簡単に紹介します[^5]。

[^5]: 各章の簡単な説明は仕様にも記載されています。\
1.9 Structure of this specification\
<https://html.spec.whatwg.org/multipage/introduction.html#structure-of-this-specification>

#### HTML の要素について詳しく知りたい

HTMLの要素については、仕様の4章「The elements of HTML」に記載されています。本書の[CHAPTER 3](3-0.xhtml)で要素の解説をしていますが、最新の正確な定義を知りたい場合はこちらを参照してください。

#### HTML の構文について詳しく知りたい

HTMLの構文(シンタックス)と字句的ルールについては、13章「The HTML syntax」に記載されています。不正なHTMLがどう解釈されるかといった情報も書かれています。

ただし、パーサーの実装者向けの情報が中心となるため、コンテンツ制作者には難解かもしれません。構文については本書の[CHAPTER 2](2-0.xhtml)でも解説しています。

#### JavaScript と連携する機能の情報が知りたい

6章「User interaction」にはインタラクションに関する属性の情報があります。その他、7章から12章にかけて各種のAPIの情報が書かれています。

#### <a id="backward-compatibility">古いHTMLとの互換性について知りたい</a>

過去のHTMLにはあったものの、現在では廃止された機能については、16章「Obsolete features」に書かれています。

現在の仕様で廃止された機能の中には、互換性のためにブラウザーの挙動が定義されているものもあり、「旧式だが適合する機能(obsolete but conforming)」として規定されています。これはブラウザーによって適切に解釈されることが期待できますが、*新規に作成するHTMLで使用するべきではありません。*HTMLチェッカーも警告を出します。

現仕様では完全に廃止され、互換性のためのブラウザーの挙動も定義されていない機能は「適合しない機能(non-conforming features)」とされています。これらについては、ブラウザーのサポートも期待できません。

### 索引から探す

HTML仕様には索引も存在します[^6]。特定の要素や属性について調べたい場合は、索引(index)ページ[01]を開き、ブラウザーのページ内検索の機能を使うと便利です。

[^6]: Index\
<https://html.spec.whatwg.org/multipage/indices.html>

<figure>
<figcaption>[01] HTML仕様の索引ページ</figcaption>
<img src="../image/C1_07_01_1C.png" alt="" />
</figure>

## 仕様を読む上で注意が必要な点

実際に仕様の内容を読む際、慣れていないと混乱しやすい点がいくつかあります。注意が必要な点をいくつか紹介します。

### WHATWG仕様の共通ルール

WHATWGの策定する仕様の共通ルールは、Infra Standard[^7]という文書にまとめられています。HTML仕様における用語の使い方や記述のルールはこの文書に従っているため、必要に応じて参照する必要があります。

[^7]: Infra Standard\
<https://infra.spec.whatwg.org/>

### ブラウザベンダー向け情報が含まれている

HTML仕様の1章には、「How to read this specification」[^8]というセクションがあります。

[^8]: 1.9.1 How to read this specification\
<https://html.spec.whatwg.org/multipage/introduction.html#how-to-read-this-specification>

このセクションで強調されているのは、仕様にはコンテンツ制作者(プロデューサー)に向けた情報と、ブラウザーベンダー(コンシューマー)に向けた情報の両方が含まれていることです。

たとえば、仕様で`img`要素の`border`属性がどのように定義されているのかを調べると、以下の2つの情報にたどり着きます。

- 3章では、`border`属性は定義されていないように書かれている
- 16章では、`border`属性が存在し、特定の値を解釈する必要があると書かれている

両者は矛盾するように見えますが、前者はコンテンツ制作者向け、後者はブラウザーベンダー向けの情報です。コンテンツ制作者は`border`属性を使うべきではありません。しかし、ブラウザーは互換性のため、`border`属性が存在する場合、その値を処理することが要求されるのです。

ブラウザーが解釈するからといって、コンテンツ制作者向けの仕様を満たすとは限りません。ブラウザーベンダー向けの情報に沿ってコンテンツを作成しないように注意しましょう。

### 規範部分と参考部分

仕様の見出しの直下に、次のような文言が存在する場合があります。

>This section is non-normative.

技術仕様は一般に、*規範(normative)*とされる部分と、*参考(informativeまたはnon-normative)*とされる部分にわけられます。仕様として規定されているのは規範部分のみであり、参考部分は仕様の理解を助けるためのものに過ぎません。仮に規範部分と参考部分に食い違いがある場合、規範部分が優先されます。

HTML仕様の場合、参考部分には上に挙げた文言が存在し、参考であることが明記されています。逆に、特に断りがない場合、本文は規範部分となります。ただし、本文に含まれる例と注記、図は参考部分です[^9]。

[^9]: 2.1 Conformance\
<https://infra.spec.whatwg.org/#conformance>

### RFC 2119のキーワード

仕様はさまざまなルールを規定しています。その中には、ルールに従う義務があるものと、そうでないものがあります。このようなルールの縛りの強さは、RFC 2119[^10]で定義されるキーワードで示されます[02][^11]。

[^10]: RFC 2119\
<https://www.rfc-editor.org/rfc/rfc2119>

[^11]: RFC 6919という、キーワードに関するジョークRFCも存在しています。\
<https://www.rfc-editor.org/rfc/rfc6919>

<figure>
<figcaption>[02] RFC 2119キーワードと日本語の対応</figcaption>
|キーワード|典型的な日本語訳|意味|
|----|----|----|
|must|～しなければならない|必須|
|should|～すべきである|推奨|
|may|～してもよい|許容|
|should not|～すべきではない|緩い禁止|
|must not|～してはならない|禁止|
</figure>

*「必須」および「禁止」は、必ず守らなければならない事項です。*この要求事項を守れなかった場合、仕様に違反することになります。「推奨」とは、指示に従わない特別な理由がなければ、指示通りにすることが求められる事項です。「許容」とは、オプションであり、どちらでもよい事項です。

たとえば、`meta`要素には`charset`という属性があります。この属性値について、HTML仕様では以下のように書かれています[^12]。

[^12]: 4.2.5 The meta element\
<https://html.spec.whatwg.org/multipage/semantics.html#the-meta-element>

>If the attribute is present, its value must be an ASCII case-insensitive match for the string "utf-8".

「この属性が存在する場合、その値は"utf-8"でなければならない」とされています。この場合、HTML仕様に則ったHTMLであるためには、例外なく常にUTF-8でなければならないことを意味します。

### 他の仕様の参照

技術仕様は一般的に、他の仕様を参照しています。HTML仕様も多数の技術仕様を参照しており、参照する仕様の一覧は、仕様のReferences[^13]の章に掲載されています。

[^13]: References\
<https://html.spec.whatwg.org/multipage/references.html>

ときには、仕様の規定が別の仕様に違反する場合もあります。[CHAPTER 1-3](1-3.xhtml)で説明したように、HTML仕様は、仕様に反したブラウザーの実装をあえて取り込んだ経緯があります。*そのような意図的な違反は、「意図的な逸脱(willful violation)」として明示しています。*

たとえば、`<input type="email">`の入力欄に入力されたメールアドレスが適切かどうかを検証する際のルールについて、RFC 5322に対する故意の違反である旨が注記に記載されています[^14]。

[^14]: valid email address\
<https://html.spec.whatwg.org/multipage/input.html#valid-e-mail-address>

## 周辺技術の仕様を参照する

ウェブページを制作する際には、HTMLだけでなく、CSS[^15]やJavaScript、URLやHTTPなど、周辺技術の仕様を参照することも必要です。[CHAPTER 1-3](1-3.xhtml)で紹介したように、技術仕様はさまざまな標準化団体によって標準化されています。

[^15]: 現在のCSSがどの仕様で定義されているのかは、CSS Snapshotに記載されています。\
<https://www.w3.org/TR/css/>

一般に、インターネットに関する仕様は、各標準化団体のウェブページで公開されています[^16]。

[^16]: ISOやJISのような伝統的な標準化団体によって発行される規格は、基本的に、印刷物として有料で販売されています。

コンテンツ制作者がよく参照するのは、CSSの仕様などを策定しているW3Cの仕様でしょう。例として、あるW3C仕様の冒頭部分を紹介します。

[03]に示したW3C仕様が最新の仕様かどうかについて、どのように確認すればよいでしょうか。この冒頭部分にはさまざまな情報があります。図中の番号1〜6について順を追って説明します。

<figure>
<figcaption>[03] あるW3C仕様の冒頭部分のスクリーンショット</figcaption>
<img src="../image/C1_07_03_1C.png" alt="" />
</figure>

1. 仕様の名前です。
2. 仕様のステータスと、発行された日付です。ステータスの位置付けについては、[CHAPTER 1-4](1-4.xhtml)<!--(P020)-->を参照してください。
3. 仕様のURLです。現在見ている仕様だけでなく、過去の仕様や最新の仕様のURLも列挙されています。WHATWGの仕様と異なり、W3Cの仕様は発行された日付に固有のURLが与えられています[^17]。誤って古いものを参照していないか注意する必要があります。
4. エディターズドラフトのURLです。編集者が作業中の最新版であり、Living Standardに近い存在といえます。予告なしに内容が変更される可能性があることに注意してください。
5. 仕様のメンテナンスをしている編集者の一覧です。仕様の策定に関する議論などを調べたい場合に有用です。
6. エラッタ(正誤表)へのリンクです。勧告となった後に誤りが報告された場合、その修正内容が記載されることがあります。

[^17]: W3Cの場合、Pubrulesという文書に従い、URLのパスにステータスや発行した日付が含まれます。\
Pubrules\
<https://www.w3.org/pubrules/>

[03]の例では、2や3に注意を払うことにより、閲覧している文書が最新の文書なのかどうかを確認できます。実際、2021年時点では3の"Latest version of Selectors"のリンク先はSelector Level 4[^18]という文書を参照しており、より新しい仕様の草案が存在することが確認できます。

[^18]: Selectors Level 4\
<https://www.w3.org/TR/selectors-4/>

## その他の技術情報の調べ方

仕様を参照する以外にも、技術情報を調べる方法はあります。ここでは、ウェブ技術の調査や学習の方法をいくつか紹介します。

### MDNで調べる

ウェブ技術に関する情報を集約したサイトとして、MDN Web Docs(通称MDN)[^19]が有名です。

[^19]: MDNは以前、Mozilla Developer Networkとされたもので、この名前で覚えている人もいるかもしれません。名称変更の経緯はMozilla Blogの記事で読むことができます。\
<https://blog.mozilla.org/opendesign/future-mdn-focus-web-docs/>

記事によって内容の質や量にばらつきはありますが、実際に役立つ場面が多々あります。

大元のコンテンツは英語ですが、各国語に翻訳されており、コンテンツの大半は日本語でも読むことができます。ただし、日本語版は英語版よりも古いことがあります[^20]。

[^20]: 原文である英語版自体が古い場合もあります。記事の最終更新日が最近であっても、内容が最新である保証はないため、情報の鮮度には注意が必要です。

### ブラウザーの動作を確認する

HTMLについて調べたい場合、実際にHTMLを書いてブラウザーで表示させてみるのも1つの方法です。また、ウェブブラウザーのソースコードを見て挙動を把握することも考えられるでしょう。

ただし、これはあくまで*そのブラウザーの動作を調べているに過ぎません。*OSやブラウザーが異なれば、挙動が異なることがあります。ブラウザーは多数ありますし、ブラウザーではないユーザーエージェントもあります。そういった環境の相互運用性までは確認できません。

ブラウザーの動作を確認すること自体は重要です。しかし、問題なく動くからといって、マークアップが適切である保証にはなりません。

### チェックツールを使用する

HTMLがルールに従っているかどうかは機械的にチェックできます。古くからあるサービスとしては、W3Cの*Markup Validation Service*[^21]が有名です。これは現在でも利用できますが、このサービスの後続となる新しいHTMLチェッカーとして*Nu Html Checker*[^22]が公開されています。

[^21]: W3C Markup Validation Service\
<https://validator.w3.org/>

[^22]: Nu Html Checker\
<https://validator.w3.org/nu/>

機械的にチェックできるのは、基本的に字句的ルールと語彙的ルールに限られます。意味論的ルールの大半は、その性質上、機械でのチェックが困難です[^23]。

[^23]: 意味論的ルールの中にはチェック可能なものもあり、たとえば、テーブルの行が空であるというようなエラーを報告することがあります。詳細は[CHAPTER 3-8](3-8.xhtml)<!--(P199)-->を参照してください。

チェッカーで機械的に正誤が判断できない場合、エラーではなく警告(warning)として報告することもあります。

*警告をゼロにすることに固執する必要はありません。*ただし、大量の警告が出ている場合、本当に対応が必要な警告を見逃すことがあります。*大量の警告を放置することも勧められません。*警告の表示内容を理解した上で、必要なものについて対応するとよいでしょう。

## よりよいマークアップのために

[CHAPTER 1-1](1-1.xhtml)で触れたように、HTMLを読むのはユーザーエージェントであり、マシンです。マークアップに問題があると、ユーザーエージェントは適切な解釈ができません。

[CHAPTER 1-2](1-2.xhtml)と[CHAPTER 1-3](1-3.xhtml)では、HTML仕様の標準化プロセスと、その歴史を見てきました。ウェブには世界中のさまざまなユーザーエージェントがアクセスします。その相互運用性の担保のためには、仕様の標準化が必要でした。標準に従わないと、特定のユーザーエージェントでアクセスできないなど、相互運用性の問題を引き起こすことがあります。

[CHAPTER 1-4](1-4.xhtml)ではアクセシビリティについて触れました。アクセシビリティを考慮せずにコンテンツを制作した場合、アクセスできなくなったり、多くの人に伝わらないコンテンツができてしまいます。

[CHAPTER 1-5](1-5.xhtml)ではURLについて、[CHAPTER 1-6](1-6.xhtml)ではHTTPについて触れました。これらの技術はHTMLと深く関連し、また、ウェブのセキュリティに関わる要素もあります。HTMLだけでなく、周辺技術も理解しなければ、ときにはセキュリティの問題を起こすこともあるのです。

[CHAPTER 1-7](1-7.xhtml)では、HTML仕様や周辺の技術仕様の調べ方を紹介しました。仕様を読み込み、理解することが、よりよいマークアップにつながります。しかし、仕様はそれ自体、完全なものではないことにも注意するべきです。クリエイティブ・コモンズ・ジャパン理事である水野祐氏の著書、『法のデザイン』にこんな一節があります。

>大切なことは、ルールは時代とともに変わっていく/変わっていくべきという認識と、ルールを「超えて」いくというマインドである。ルールを超えていくことは、ルールを破ることを意味しない。ルールがどうあるべきかということを主体的に考えて、ルールに関わり続けていくと言うことを意味する。ルールを最大限自分寄りに活かすことは知性の証明に他ならない。

『法のデザイン』で述べている「ルール」は法律を主眼に置いていますが、これをそのまま「仕様」に置き換えて見るとどうでしょうか。

今日のHTML仕様はLiving Standardというステータスのとおり、日々変化していきます。前時代のように、W3C勧告でずっとそのままだった、というのがむしろ特殊な状況でした。仕様は変わり続けていくという認識を持つのが肝要です。

そして、仕様を超えていくという意識も重要です。仕様と実装の差異、別の仕様の内容との矛盾など、ときには相反する内容をも吟味しながら、どうマークアップするべきかを能動的に考えて続けていく必要があるのです。これは、ウェブ制作の目指すべき1つの極致であるといえるでしょう。

そのためにも、まずは仕様を十分に把握し、自分の味方に付けることが必要です。本書が読者の皆さんをHTML仕様に誘い、その向こう側へたどり着く羅針盤となれば幸いです。
