# 属性

Chapter2-1では、タグを使って要素をマークアップする方法を紹介しました。ここでは一歩進んで、要素に属性を付ける方法について紹介します。

## 属性の基本

CHAPTER 2-1で説明したように、 HTMLではタグを使って要素の種類と範囲を明示します。 HTMLのハイパーリンクはa要素で表現しますが、テキストを単純にa要素でマークアップすると、 01のようになります。 
01要素の記述例
```html
<p>詳しくは<a>HTML Living Standard</a>をご覧ください。</p>
```

リンクとなるテキストの範囲は明示できましたが、肝心のリンク先の情報がありません。そこで、リンク先の情報を 01に追加してみると、 02のようになります。

02 01にリンク先を追加した例

```html
<p>詳しくは<a href="https://html.spec.whatwg.org/">HTML Living Standard</a>をご覧ください。</p>
```

開始タグの中にhrefで始まる文字列を入れて、リンク先の URLの情報を表現しています。このように、要素に情報を付け加える表現を「属性（attribute）」といいます。

属性には名前と値があり、それぞれ「属性名（attribute name）」、「属性値（attribute value）」といいます。 02では、属性名が href、属性値が https://html.spec.whatwg.org/となります。

### 属性の書き方

属性を書くときは、属性名の後ろに `=`（U+003D、等号）を記述し、続けて属性値を書きます。属性値は、原則として `"`（U+0022、二重引用符）または`'`（U+0027、単一引用符）で括ります。引用符はどちらを使っても構いませんが、同じ引用符を用いてペアにしなければなりません。03は、abbr要素に titleという属性名の属性を指定し、属性値をaccessibilityとした例です。
03属性の記述例
```html
<abbr title="accessibility">a11y</abbr>
```

なお、属性値に引用符を含める場合、 04のように記述します。
04単一引用符がある属性値を二重引用符で括った記述した例
```html
<span title="Murphy's law">Anything that can possibly go wrong, does.</span>
```

### 複数の属性

05のように、属性は複数指定できます。
05複数の属性を記述した例

```html
<a rel="external" href="https://html.spec.whatwg.org/">HTML Living Standard</a> 
```

同じ属性名を持つ属性は、1つの要素に 1つしか指定できません。詳細は CHAPTER 2-8を参照してください。

属性の前後は、 1つ以上の「ASCII空白文字（ASCII whitespace）」で区切ります。改行も ASCII空白文字であるため、 06のようにも記述できます。
06複数の属性を改行で区切った例

```html
<a 
rel="external" 
href="https://html.spec.whatwg.org/" 
>HTML Living Standard</a>
```

### 属性値

属性値の形式は、属性ごとに決められています。多くの属性は任意のテキストを値に指定できますが、特定の値しか取れない属性もあります。

### ブール型属性

属性の中には、真偽、 on/offだけを表すものがあります。そのような属性を「ブール型属性（boolean attribute）」と呼びます。たとえば、要素を非表示にするhidden属性はブール型属性で、 07のように指定します。
07プール型属性の記述例

```html
<p hidden="hidden">この内容は表示されません</p> 
```
07のように、ブール型属性では、属性名と同じ属性値を書くことで、その属性が有効であることを表します。しかし、属性名と同一の値を書くのは冗長なため、 08のように省略する書き方も許可されています。
08省略した記述例

```html
<p hidden="">この内容は表示されません</p> <p hidden>この内容は表示されません</p> 
```

いずれも、hidden="hidden"と書いた場合と同じ効果を持ちます。ブール型属性を無効にする場合は、 09のように属性自体を省略します。
09属性自体を省略した、hiddenの無効な例

```html
<p>この内容は表示されます</p>
```

## 列挙型属性とキーワード

属性の中には、決められた値しか取れないものがあります。たとえば、dir属性は属性値として "ltr"、"rtl"、"auto"のいずれかを指定する必要があり、これ以外の値は指定できません。このように、あらかじめ列挙された候補の中から 1つを選ぶ形の属性を「列挙型属性（enumerated attributes）」といいます。また、列挙されている属性値の候補それぞれを「キーワード（keywords）」といいます。列挙型属性のキーワードは、大文字小文字を区別しません。 dir="rtl"とdir="RTL"とdir="RtL"はすべて同じ意味になります。

### デフォルト時の挙動

列挙型属性にキーワード以外の値を指定すると、構文エラーとなります。この場合の挙動は属性ごとに異なります。属性によっては、エラー時に採用されるフォールバックの値が定義されています。また、その属性自体を省略した場合のデフォルトの値でが定義されている場合もあります。たとえば、 dir属性の場合、エラー時の値もデフォルトの値も定義されていません。不正な値を指定した場合は、 dir属性を指定していない場合と同様、書字方向に何も影響を与えません。

エラー時の値とデフォルトの値が定義されている例には、 form要素のautocomplete属性があります。 "on"か"off"のいずれかのキーワードを指定する必要がありますが、他の値が指定されたり、この属性自体がない時には"on"を指定した場合と同様の挙動になります。

エラー時の値やデフォルトの値がキーワードのどれとも一致しない場合もあります。 th要素のscope属性に指定できるキーワードは、 "col"、"colgroup"、"row"、"rowgroup"のいずれかですが、 scope属性が指定ない場合、いずれとも異なる"auto"という状態になります。

### 数字

属性値を数字で指定するものもあります。数字には、「符号付き整数」、（signed integers）」、「非負整数（ non-negative integers）「浮動小数点数（floating-point numbers）」などの種類があり、属性によって取りうる数字は異なります。

いずれの数字も、基本的に「ASCII数字（ ASCII digit）」の0～ 9で指定します。

### 長さの指定

属性値で、要素の幅や高さを指定するケースがあります。典型例は、画像データ自体のサイズのヒントをブラウザーに伝えるimg要素のheight属性や width属性です。属性値には数値を ASCII数字で指定し、単位は含めません。長さの単位は CSSピクセルとなります。

### 日付と時刻

日付や時刻を指定するタイプの属性もあります。たとえば ins要素や del要素のdatetime属性には、日付や時刻を指定できます。日付と時刻の形式は、ISO 8601とよく似た、HTML仕様に定められた形式を用います。

### 日付のみの指定

日付のみを指定する場合は、 4桁の年、 2桁の月、 2桁の日をハイフンでつないだYYYY-MM-DDの形式を使います。区切り文字はハイフンでなければならず、スラッシュやスペースで区切ることはできません。
10日付の指定例

```html
<insdatetime="2020-04-01">

### 日付に時刻を追加した指定

日付に加えて時刻を指定する場合は、日付の後に大文字の Tもしくは ASCIIスペースを1つ入れ、日付と時刻を区切ります。
時刻は、2桁の時と分をコロンでつないで00:00のように書きます。
さらにタイムゾーンの情報を入れます。 ins要素やdel要素で時刻を指定する場合、タイムゾーンの情報は必須で、省略できません。 +に続けて 2桁の時、 2桁の分を連続して表記します。日本のローカルタイムの場合、 UTC（協定世界時）との時差が+9時間ですから、+0900となります。
11日本のローカルタイムによる時刻の指定例
```html
<deldatetime="2020-04-01T00:00+0900"><del datetime="2020-04-01 00:00+0900">
```

UTCの場合は、 +0000と同じ意味を表すZの1文字でも指定できます。
12UTCによる時刻の指定例

```html
<deldatetime="2020-04-01T09:00+0000"><deldatetime="2020-04-01T09:00Z">

### URL

属性値としてURLを指定する属性も多数あります。代表例は、最初に示したような、 a要素のhref属性でリンク先を指定するものです。 img要素のsrc属性など、読み込み先のリソースの指定にもURLを使用します。

属性値としてURLを指定する場合、基本的には絶対 URLと相対URLのどちらも利用できます。URLの詳細な書式はCHAPTER 2-3で説明します。
13絶対URL（上）と相対URL（下）の指定例

