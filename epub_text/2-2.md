---
title: "属性"
---

# <span class="number">02</span> 属性

Chapter2-1では、タグを使って要素をマークアップする方法を紹介しました。ここでは一歩進んで、要素に属性を付ける方法について紹介します。

## 属性の基本

CHAPTER 2-1で説明したように、HTMLではタグを使って要素の種類と範囲を明示します。HTMLのハイパーリンクは`a`要素で表現しますが、テキストを単純に`a`要素でマークアップすると、\[01]のようになります。

<figure>
<figcaption>[01] 要素の記述例</figcaption>

```html
<p>詳しくは<a>HTML Living Standard</a>をご覧ください。</p>
```

</figure>

リンクとなるテキストの範囲は明示できましたが、肝心のリンク先の情報がありません。そこで、リンク先の情報を\[01]に追加してみると、\[02]のようになります。

<figure>
<figcaption>[02] [01]にリンク先を追加した例</figcaption>

```html
<p>詳しくは<a href="https://html.spec.whatwg.org/">HTML Living Standard</a>をご覧ください。</p>
```

</figure>

開始タグの中に`href`で始まる文字列を入れて、リンク先のURLの情報を表現しています。このように、要素に情報を付け加える表現を「属性（attribute）」といいます。

*属性には名前と値があり、それぞれ「属性名（attribute name）」、「属性値（attribute value）」といいます。*\[02]では、属性名が`href`、属性値が`https://html.spec.whatwg.org/`となります。[^1]

[^1]: HTML構文では、属性名の大文字小文字を区別しません。大文字は小文字に変換されて解釈されます。属性値の大文字小文字の区別は、属性によって異なります。

## 属性の書き方

属性を書くときは、属性名の後ろに`=`（U+003D、等号）を記述し、続けて属性値を書きます。属性値は、原則として`"`（U+0022、二重引用符）または`'`（U+0027、単一引用符）で括ります。引用符はどちらを使っても構いませんが、*同じ引用符を用いてペアにしなければなりません。*[^2]

[^2]: 属性値の引用符は省略できる場合もありますが、省略のルールはやや複雑であり、セキュリティ問題にもつながりやすいため、常に引用符で括るようにすべきです。CHAPTER 2-8の「引用符のない属性」（P089）も参照してください。

\[03]は、`abbr`要素に`title`という属性名の属性を指定し、属性値を`accessibility`とした例です。

<figure>
<figcaption>[03] 属性の記述例</figcaption>

```html
<abbr title="accessibility">a11y</abbr>
```

</figure>

なお、属性値に引用符を含める場合、\[04]のように記述します。

<figure>
<figcaption>[04] 属性値に引用符を含んだ記述例</figcaption>

```html
<span title="Murphy's law">Anything that can possibly go wrong, does.</span>
```

</figure>

### 複数の属性

\[05]のように、属性は複数指定できます。[^3]

[^3]: 同じ属性名を持つ属性は、1つの要素に1つしか指定できません。詳細はCHAPTER 2-8を参照してください。

<figure>
<figcaption>[05] 複数の属性を記述した例</figcaption>

```html
<a rel="external" href="https://html.spec.whatwg.org/">HTML Living Standard</a>
```

</figure>

属性の前後は、1つ以上の「ASCII空白文字（ASCII whitespace）」で区切ります[^4]。*改行もASCII空白文字*であるため、\[06]のようにも記述できます。

[^4]: ASCII空白文字はInfra Standardで定義されており、U+0009（タブ）、U+000A（LF）、U+000C（FF）、U+000D（CR）、U+0020（ASCIIスペース）が含まれます。  
<https://infra.spec.whatwg.org/#ascii-whitespace>  
  
なお、HTML構文の場合、構文解析前の「改行の正規化（normalize newlines）」により、CRやCR+LFはLFに置き換えられてからパースされます。  
<https://html.spec.whatwg.org/multipage/parsing.html#preprocessing-the-inputstream>

<figure>
<figcaption>[06] 複数の属性を改行で区切った例</figcaption>

```html
<a
  rel="external"
  href="https://html.spec.whatwg.org/"
>HTML Living Standard</a>
```

</figure>

## 属性値

属性値の形式は、属性ごとに決められています。多くの属性は任意のテキストを値に指定できますが、特定の値しか取れない属性もあります。

### ブール型属性

属性の中には、真偽、on/offだけを表すものがあります。そのような属性を「ブール型属性（boolean attribute）」と呼びます[^5]。たとえば、要素を非表示にする`hidden`属性はブール型属性で、\[07]のように指定します。

[^5]: ブール型属性は真偽属性や論理属性などと呼ばれることもあります。

<figure>
<figcaption>[07] ブール型属性の記述例</figcaption>

```html
<p hidden="hidden">この内容は表示されません</p>
```

</figure>

\[07]のように、ブール型属性では、*属性名と同じ属性値を書くことで、その属性が有効であることを表します。*しかし、属性名と同一の値を書くのは冗長なため、\[08]のように省略する書き方も許可されています。

<figure>
<figcaption>[08] 省略した記述例</figcaption>

```html
<p hidden="">この内容は表示されません</p>
<p hidden>この内容は表示されません</p>
```

</figure>

いずれも、`hidden="hidden"`と書いた場合と同じ効果を持ちます[^6]。ブール型属性を無効にする場合は、\[09]のように属性自体を省略します。

[^6]: `hidden=""`は属性値が空ですが、属性は有効で、真、onを意味することに注意してください。

<figure>
<figcaption>[09] 属性自体を省略した、<code>hidden</code>の無効な例</figcaption>

```html
<p>この内容は表示されます</p>
```

</figure>

### 列挙型属性とキーワード

属性の中には、決められた値しか取れないものがあります。たとえば、`dir`属性は属性値として"`ltr`"、"`rtl`"、"`auto`"のいずれかを指定する必要があり、これ以外の値は指定できません[^7]。

[^7]: `dir`属性の詳細はCHAPTER 3-5で説明します。

このように、あらかじめ列挙された候補の中から1つを選ぶ形の属性を*「列挙型属性（enumerated attributes）」*といいます[^8]。また、列挙されている属性値の候補それぞれを「キーワード（keywords）」といいます。

[^8]: 列挙型属性は列挙属性と呼ばれることもあります。

*列挙型属性のキーワードは、大文字小文字を区別しません。*`dir="rtl"`と`dir="RTL"`と`dir="RtL"`はすべて同じ意味になります。

#### デフォルト時の挙動

列挙型属性にキーワード以外の値を指定すると、構文エラーとなります。この場合の挙動は属性ごとに異なります。属性によっては、エラー時に採用されるフォールバックの値が定義されています。[^9]

[^9]: 不正な値が指定されたエラー時の値を「invalid value default」、属性省略時のデフォルトの値を「missing value default」と呼びます。

また、その属性自体を省略した場合のデフォルトの値が定義されている場合もあります。たとえば、`dir`属性の場合、エラー時の値もデフォルトの値も定義されていません。不正な値を指定した場合は、`dir`属性を指定していない場合と同様、書字方向に何も影響を与えません。

エラー時の値とデフォルトの値が定義されている例には、`form`要素の`autocomplete`属性があります。"`on`"か"`off`"のいずれかのキーワードを指定する必要がありますが、他の値が指定されたり、この属性自体がない時には"`on`"を指定した場合と同様の挙動になります。

エラー時の値やデフォルトの値がキーワードのどれとも一致しない場合もあります。`th`要素の`scope`属性に指定できるキーワードは、"`col`"、"`colgroup`"、"`row`"、"`rowgroup`"のいずれかですが、`scope`属性が指定ない場合、いずれとも異なる"`auto`"という状態になります。[^10]

[^10]: `scope`属性に"`auto`"という値は指定できません。値"`auto`"を指定した場合は構文エラーとなりますが、エラー時の値が採用され、結果としてautoの状態になります。

### 数字

属性値を数字で指定するものもあります。数字には、「符号付き整数」、（signed integers）」、「非負整数（non-negative integers）「浮動小数点数（floating-point numbers）」などの種類があり、属性によって取りうる数字は異なります。

いずれの数字も、基本的に*「ASCII数字（ASCII digit）」の0～9で指定します。*[^11]

[^11]: 全角数字はASCII数字ではないため、全角数字で指定しても数字を指定したことにはなりません。

#### 長さの指定

属性値で、要素の幅や高さを指定するケースがあります。典型例は、画像データ自体のサイズのヒントをブラウザーに伝える`img`要素の`height`属性や`width`属性です。属性値には数値をASCII数字で指定し、単位は含めません。*長さの単位はCSSピクセルとなります。*[^12]

[^12]: 現在では、表示サイズをCSSで制御するため、表示サイズに関する属性はほとんど廃止されています。  
`img`要素の`height`属性や`width`属性は、画像の表示サイズの指定ではなく、画像自体のサイズのヒントを与えるものとして残されています。  
以前のHTMLでは"`50%`"のようなパーセンテージ値も指定できましたが、これは画像サイズのヒントとしては利用できないため、現在のHTMLではパーセンテージ値を指定できません。

### 日付と時刻

日付や時刻を指定するタイプの属性もあります。たとえば`ins`要素や`del`要素の`datetime`属性には、日付や時刻を指定できます。日付と時刻の形式は、ISO 8601とよく似た、HTML仕様に定められた形式を用います。[^13]

[^13]: 本書での日付と時刻の説明は概要です。正確な規定は仕様を参照してください。  
2.3.5 Dates and times  
<https://html.spec.whatwg.org/multipage/commonmicrosyntaxes.html#dates-andtimes>

#### 日付のみの指定

日付のみを指定する場合は、4桁の年、2桁の月、2桁の日をハイフンでつないだ`YYYY-MM-DD`の形式を使います。区切り文字はハイフンでなければならず、スラッシュやスペースで区切ることはできません\[10]。

<figure>
<figcaption>[10] 日付の指定例</figcaption>

```html
<ins datetime="2020-04-01">
```

</figure>

#### 日付に時刻を追加した指定

日付に加えて時刻を指定する場合は、日付の後に大文字の`T`もしくはASCIIスペースを1つ入れ、日付と時刻を区切ります[^14]。

[^14]: 日付と時刻の区切り文字は、スペースで区切る場合、スペースは1つだけです。複数のスペースを入れることはできません。また、`T`で区切る場合も前後にスペースを入れることはできません。

時刻は、2桁の時と分をコロンでつないで`00:00`のように書きます。

さらにタイムゾーンの情報を入れます。*`ins`要素や`del`要素で時刻を指定する場合、タイムゾーンの情報は必須で、省略できません。*`+`に続けて2桁の時、2桁の分を連続して表記します[^15]。日本のローカルタイムの場合、UTC（協定世界時）との時差が+9時間ですから、`+0900`となります\[11]。

[^15]: 時刻には秒やミリ秒も指定できますが、本書では割愛します。

<figure>
<figcaption>[11] 日本のローカルタイムによる時刻の指定例</figcaption>

```html
<del datetime="2020-04-01T00:00+0900">
<del datetime="2020-04-01 00:00+0900">
```

</figure>

UTCの場合は、`+0000`と同じ意味を表す`Z`の1文字[^16]でも指定できます\[12]。

[^16]: アルファベット1文字での記述は、タイムゾーンを表すMilitary time zonesと呼ばれるものです。タイムゾーンについては、タイムゾーン呪いの書（知識編）が非常に詳しいです。  
<https://zenn.dev/dmikurube/articles/urse-of-timezonescommon-ja>

<figure>
<figcaption>[12] UTCによる時刻の指定例</figcaption>

```html
<del datetime="2020-04-01T09:00+0000">
<del datetime="2020-04-01T09:00Z">
```

</figure>

### URL

属性値としてURLを指定する属性も多数あります。代表例は、最初に示したような、`a`要素の`href`属性でリンク先を指定するものです。`img`要素の`src`属性など、読み込み先のリソースの指定にもURLを使用します。

属性値としてURLを指定する場合、基本的には絶対URLと相対URLのどちらも利用できます\[13]。URLの詳細な書式はCHAPTER 2-3で説明します。

<figure>
<figcaption>[13] 絶対URL（上）と相対URL（下）の指定例</figcaption>

```html
<a href="https://example.com/corporate/about">example社の会社概要</a>
<a href="../about">会社概要</a>
```

</figure>
